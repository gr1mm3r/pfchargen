webpackJsonp([0],{315:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){if(Array.isArray(e)){for(var t=0,l=Array(e.length);t<e.length;t++)l[t]=e[t];return l}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e){return Y.default.createElement(ee.Col,{bsClass:"col",xs:e.xs||Math.min(2*e.sm,12),sm:e.sm},Y.default.createElement(ee.FormGroup,{validationState:e.validationState},Y.default.createElement(ee.ControlLabel,null,Y.default.createElement("small",null,e.label)),Y.default.createElement(ee.FormControl.Static,null,e.children)))}function m(e){var t=e.label||e.propKey[e.propKey.length-1];return Y.default.createElement(ee.Col,{bsClass:"col",xs:e.xs||Math.min(2*e.sm,12),sm:e.sm},Y.default.createElement(ee.FormGroup,{validationState:e.validationState,controlId:e.propKey.join("-")},Y.default.createElement(ee.ControlLabel,{className:"text-capitalize"},Y.default.createElement("small",null,t)),Y.default.createElement(ee.FormControl,{type:"text",value:e.getState(e.propKey,""),onChange:e.handleChange(e.propKey)})))}function s(e){var t=[8,4,2,1,0,-1,-2,-4,-8],l=["Fine","Diminutive","Tiny","Small","Medium","Large","Huge","Gargantuan","Colossal"].map(function(e,l){return Y.default.createElement("option",{value:t[l]},e+": "+t[l])}),a=["stat","size"];return Y.default.createElement(ee.Col,_({},e,{bsClass:"col",xs:e.xs||Math.min(2*e.sm,12)}),Y.default.createElement(ee.FormGroup,{controlId:a.join("-"),bsSize:"sm"},Y.default.createElement(ee.ControlLabel,null,Y.default.createElement("small",null,"Size")),Y.default.createElement(ee.FormControl,{componentClass:"select",value:e.getValue(a),onChange:e.handleChange(a)},l)))}function o(e){return Y.default.createElement("div",null,Y.default.createElement(ee.Row,null,Y.default.createElement(m,_({},e,{propKey:["info","character"],xs:7,sm:6})),Y.default.createElement(m,_({},e,{propKey:["info","player"],xs:3,sm:4})),Y.default.createElement(d,{label:"Minify",xs:2,sm:2},Y.default.createElement(ee.Button,{bsSize:"sm",bsStyle:"info",target:"_blank",href:"javascript:void(location.href='http://tinyurl.com/create.php?url='+encodeURIComponent(location.href))"},"tinyurl"))),Y.default.createElement(ee.Row,null,Y.default.createElement(m,_({},e,{propKey:["info","race"],sm:2})),Y.default.createElement(m,_({},e,{propKey:["info","gender"],sm:1})),Y.default.createElement(m,_({},e,{propKey:["info","height"],xs:3,sm:1})),Y.default.createElement(m,_({},e,{propKey:["info","weight"],xs:3,sm:1})),Y.default.createElement(m,_({},e,{propKey:["info","hair"],sm:2})),Y.default.createElement(m,_({},e,{propKey:["info","eyes"],sm:2})),Y.default.createElement(m,_({},e,{propKey:["info","skin"],sm:2})),Y.default.createElement(m,_({},e,{propKey:["info","age"],sm:1})),Y.default.createElement(m,_({},e,{propKey:["info","alignment"],sm:2})),Y.default.createElement(m,_({},e,{propKey:["info","deity"],sm:3})),Y.default.createElement(m,_({},e,{propKey:["info","homeland and occupation"],sm:7})),Y.default.createElement(m,_({},e,{propKey:["info","languages"],sm:12}))))}function f(e){var t=e.ability,l=e.getState(["rage","enable"],!1),a=l?F(e)[t]:0,n=ne.map(function(l){return Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["stat",t,l]})))}).concat(Y.default.createElement("td",{className:l?"":"hidden"},a||""));return Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},t),Y.default.createElement("td",null,e.getAbilityTotal(t)),Y.default.createElement("th",{className:"success"},e.getAbilityMod(t)),n)}function i(e){var t=e.getState(["rage","enable"],!1);return Y.default.createElement(ee.Table,{condensed:!0,className:"ability-table"},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",null,Y.default.createElement("small",null,"Ability")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Total")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Mod")),Y.default.createElement("th",{className:"ability-base"},Y.default.createElement("small",null,"Base")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Enh",Y.default.createElement("span",{className:"hidden-xs hidden-md"},"ance"))),Y.default.createElement("th",null,Y.default.createElement("small",null,"Misc")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Temp")),Y.default.createElement("th",{className:t?"":"hidden"},Y.default.createElement("small",null,"Rage")))),Y.default.createElement("tbody",null,Y.default.createElement(f,_({},e,{ability:"STR"})),Y.default.createElement(f,_({},e,{ability:"DEX"})),Y.default.createElement(f,_({},e,{ability:"CON"})),Y.default.createElement(f,_({},e,{ability:"INT"})),Y.default.createElement(f,_({},e,{ability:"WIS"})),Y.default.createElement(f,_({},e,{ability:"CHA"}))))}function E(e){var t=e.placeholder||e.getDefault(e.propKey);return Y.default.createElement(ee.FormControl,{type:"text",id:e.propKey.join("-"),value:e.getState(e.propKey,""),onChange:e.handleChange(e.propKey),placeholder:t,className:e.className||""})}function p(e){var t=e.noteKey&&e.noteKey+"-note"||e.propKey.join("-"),l=e.propKey||["note",e.noteKey],a=e.noteKey||e.propKey[e.propKey.length-1],n=[e.className,"autoresize",l.join("-"),e.onerow?"onerow":""].join(" ");return Y.default.createElement(ee.FormGroup,{controlId:t},Y.default.createElement(ee.FormControl,{componentClass:"textarea",inputRef:addAutoresize,className:n,value:e.getState(l,""),onChange:e.handleChange(l),placeholder:e.placeholder||a+" notes"}))}function h(e){return Y.default.createElement("span",null,Y.default.createElement("abbr",{className:"hidden-print",title:e.title},e.children),Y.default.createElement("span",{className:"visible-print-block"},e.children))}function g(e){var t=e.name,l=ue.map(function(l){return Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[t,l]})))});return Y.default.createElement("tr",null,l)}function y(e){var t=re.map(function(t,l){return l>0&&isEmpty(e.getState(["class"+l]))&&isEmpty(e.getState(["class"+(l+1)]))?null:Y.default.createElement(pe,_({},e,{name:t,val:e[t]}))});return Y.default.createElement(ee.Table,{condensed:!0},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"class-name"},Y.default.createElement("small",null,"Classname")),Y.default.createElement("th",null,Y.default.createElement("small",null,"HD")),Y.default.createElement("th",{className:"min-width-3-digits"},Y.default.createElement("small",null,"HP")),Y.default.createElement("th",{className:"min-width-3-digits"},Y.default.createElement("small",null,"Skill")),Y.default.createElement("th",null,Y.default.createElement("small",null,"BAB")),Y.default.createElement("th",null,Y.default.createElement("small",null,"FORT")),Y.default.createElement("th",null,Y.default.createElement("small",null,"REF")),Y.default.createElement("th",null,Y.default.createElement("small",null,"WILL")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Levels")))),Y.default.createElement("tbody",null,t,Y.default.createElement("tr",null,Y.default.createElement("th",null,"Base totals"),Y.default.createElement("td",null),Y.default.createElement("td",null,e.getClassTypeTotal("hp")),Y.default.createElement("td",null,e.getClassTypeTotal("skill")),Y.default.createElement("td",null,e.getClassTypeTotal("bab")),Y.default.createElement("td",null,e.getClassTypeTotal("fort")),Y.default.createElement("td",null,e.getClassTypeTotal("refl")),Y.default.createElement("td",null,e.getClassTypeTotal("will")),Y.default.createElement("td",null,e.getClassTypeTotal("levels")))))}function b(e){var t=e.getAbilityMod("CON")*e.getClassTypeTotal("levels")+e.getClassTypeTotal("hp");return Y.default.createElement(ee.Table,{condensed:!0,className:"hp-table"},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},Y.default.createElement("small",null,"HP (con*lvl+cls)")),Y.default.createElement("td",null,t))),Y.default.createElement("tbody",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active hp-temporary"},"Temporary HP"),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["hp","temp"]})))),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Subdual dam"),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["hp","subdual"]})))),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Lethal dam"),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["hp","lethal"]})))),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Current HP"),Y.default.createElement("td",{className:"success"},t+e.getState(["hp","temp"],0)-e.getState(["hp","subdual"],0)-e.getState(["hp","lethal"],0)))))}function v(e){var t=e.getAbilityMod("DEX")+e.getState(["init","enh"],0)+e.getState(["init","misc"],0)+e.getState(["init","temp"],0);return Y.default.createElement(ee.Table,{condensed:!0},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",null),Y.default.createElement("th",null,Y.default.createElement("small",null,"Total")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Base")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Enhance")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Misc")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Temp")))),Y.default.createElement("tbody",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Init"),Y.default.createElement("th",{className:"success"},t),Y.default.createElement("td",null,e.getAbilityMod("DEX")),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["init","enh"]}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["init","misc"]}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["init","temp"]}))))))}function S(e){return Y.default.createElement(ee.Table,{condensed:!0},Y.default.createElement("tbody",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"DR"),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["info","dr"]}))),Y.default.createElement("th",{className:"active"},"SR"),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["info","sr"]})))),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Resists"),Y.default.createElement("td",{colSpan:"3"},Y.default.createElement(E,_({},e,{propKey:["info","resists"]}))))))}function N(e){return Y.default.createElement("div",null,Y.default.createElement(ee.Table,{condensed:!0},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",null,"Speed"),Y.default.createElement("th",null,Y.default.createElement("small",null,"combat equipped")),Y.default.createElement("th",null,Y.default.createElement("small",null,"all equipment")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Overland mph")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Misc note")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Temp note")))),Y.default.createElement("tbody",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Land"),Y.default.createElement("td",{className:"success"},e.getArmedSpeed()),Y.default.createElement("td",{className:"info"},e.getCurrentSpeed()),Y.default.createElement("td",null,e.getOverlandSpeed()),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["speed","misc"]}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["speed","temp"]})))))),Y.default.createElement(ee.Table,{condensed:!0},Y.default.createElement("tbody",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},Y.default.createElement("small",null,"Swim")),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["speed","swim"]}))),Y.default.createElement("th",{className:"active"},Y.default.createElement("small",null,"Climb")),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["speed","climb"]}))),Y.default.createElement("th",{className:"active"},Y.default.createElement("small",null,"Fly")),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["speed","fly"]}))),Y.default.createElement("th",{className:"active"},Y.default.createElement("small",null,"Burrow")),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["speed","burrow"]})))))))}function C(e){var t=e.getState(["rage","enable"],!1),l=t?F(e).ac:0,a=Math.min(0,e.getArmorLimitedDex());return Y.default.createElement(ee.Table,{condensed:!0},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",null,Y.default.createElement("small",null,"Defence")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Total")),Y.default.createElement("th",{className:"hidden-xs"}),Y.default.createElement("th",null,Y.default.createElement("small",null,"Armor")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Shield")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Dex")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Size")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Dodge")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Natural")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Deflect")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Misc")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Temp")),Y.default.createElement("th",{className:t?"":"hidden"},Y.default.createElement("small",null,"Rage")))),Y.default.createElement("tbody",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"AC"),Y.default.createElement("th",{className:"success"},10+e.getState(["armor","ac"],0)+e.getState(["shield","ac"],0)+e.getArmorLimitedDex()+e.getState(["stat","size"],0)+e.getState(["ac","dodge"],0)+e.getState(["ac","natural"],0)+e.getState(["ac","deflect"],0)+e.getState(["ac","ac-misc"],0)+e.getState(["ac","temp"],0)+l),Y.default.createElement("td",{className:"hidden-xs"},Y.default.createElement("small",null,"10+")),Y.default.createElement("td",null,e.getState(["armor","ac"],"")),Y.default.createElement("td",null,e.getState(["shield","ac"],"")),Y.default.createElement("td",null,e.getArmorLimitedDex()),Y.default.createElement("td",null,e.getState(["stat","size"],"")),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["ac","dodge"]}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["ac","natural"]}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["ac","deflect"]}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["ac","ac-misc"]}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["ac","temp"]}))),Y.default.createElement("td",{className:t?"":"hidden"},Y.default.createElement("small",null,l))),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Touch"),Y.default.createElement("th",{className:"success"},10+e.getArmorLimitedDex()+e.getState(["stat","size"],0)+e.getState(["ac","dodge"],0)+e.getState(["ac","deflect"],0)+e.getState(["ac","touch-misc"],0)+e.getState(["ac","temp"],0)+l),Y.default.createElement("td",{className:"hidden-xs"},Y.default.createElement("small",null,"10+")),Y.default.createElement("td",null,"-"),Y.default.createElement("td",null,"-"),Y.default.createElement("td",null,e.getArmorLimitedDex()),Y.default.createElement("td",null,e.getState(["stat","size"],"")),Y.default.createElement("td",null,e.getState(["ac","dodge"],"")),Y.default.createElement("td",null,"-"),Y.default.createElement("td",null,e.getState(["ac","deflect"],"")),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["ac","touch-misc"]}))),Y.default.createElement("td",null,e.getState(["ac","temp"],"")),Y.default.createElement("td",{className:t?"":"hidden"},Y.default.createElement("small",null,l))),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Flat-foot"),Y.default.createElement("th",{className:"success"},10+e.getState(["armor","ac"],0)+e.getState(["shield","ac"],0)+e.getState(["stat","size"],0)+e.getState(["ac","natural"],0)+e.getState(["ac","deflect"],0)+e.getState(["ac","ff-misc"],0)+e.getState(["ac","temp"],0)+a+l),Y.default.createElement("td",{className:"hidden-xs"},Y.default.createElement("small",null,"10+")),Y.default.createElement("td",null,e.getState(["armor","ac"],"")),Y.default.createElement("td",null,e.getState(["shield","ac"],"")),Y.default.createElement("td",null,a),Y.default.createElement("td",null,e.getState(["stat","size"],"")),Y.default.createElement("td",null,"-"),Y.default.createElement("td",null,e.getState(["ac","natural"],"")),Y.default.createElement("td",null,e.getState(["ac","deflect"],"")),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["ac","ff-misc"]}))),Y.default.createElement("td",null,e.getState(["ac","temp"],"")),Y.default.createElement("td",{className:t?"":"hidden"},Y.default.createElement("small",null,l)))))}function K(e){var t=e.getState(["rage","enable"],!1),l=t?F(e)[e.save]||0:0;return Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active line-height-1"},e.save.toUpperCase(),Y.default.createElement("small",null," (",e.ability,")")),Y.default.createElement("th",{className:"success"},e.getClassTypeTotal(e.save)+e.getAbilityMod(e.ability)+e.getState([e.save,"enhance"],0)+e.getState([e.save,"misc"],0)+e.getState([e.save,"temp"],0)+l),Y.default.createElement("td",null,e.getClassTypeTotal(e.save)),Y.default.createElement("td",null,e.getAbilityMod(e.ability)),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[e.save,"enhance"]}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[e.save,"misc"]}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[e.save,"temp"]}))),Y.default.createElement("td",{className:t?"":"hidden"},Y.default.createElement("small",null,l||"")))}function w(e){var t=e.getState(["rage","enable"],!1);return Y.default.createElement(ee.Table,{condensed:!0},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"save-name"},Y.default.createElement("small",null,"Save")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Total")),Y.default.createElement("th",null,Y.default.createElement("small",null,Y.default.createElement("span",{className:"hidden-xs"},"Class "),"base")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Abil",Y.default.createElement("span",{className:"hidden-xs"},"ity"))),Y.default.createElement("th",null,Y.default.createElement("small",null,"Enh",Y.default.createElement("span",{className:"hidden-xs"},"ance"))),Y.default.createElement("th",null,Y.default.createElement("small",null,"Misc")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Temp")),Y.default.createElement("th",{className:t?"":"hidden"},Y.default.createElement("small",null,"Rage")))),Y.default.createElement("tbody",null,Y.default.createElement(K,_({},e,{save:"fort",ability:"CON"})),Y.default.createElement(K,_({},e,{save:"refl",ability:"DEX"})),Y.default.createElement(K,_({},e,{save:"will",ability:"WIS"}))))}function T(e){var t=e.getAbilityMod("STR"),l=e.getAbilityMod("DEX"),a=e.getState(["stat","size"],0),n=a<2?t:l,r=[{name:"melee",ability:t,size:a},{name:"ranged",ability:l,size:a}].map(function(t){return Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},t.name.toUpperCase()),Y.default.createElement("th",{className:"success"},e.getClassTypeTotal("bab")+t.ability+t.size+e.getState([t.name,"misc"],0)+e.getState([t.name,"temp"],0)),Y.default.createElement("td",{className:"hidden-xs"}),Y.default.createElement("td",null,e.getClassTypeTotal("bab")),Y.default.createElement("td",null,t.ability),Y.default.createElement("td",null,t.size),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[t.name,"misc"]}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[t.name,"temp"]}))))});return Y.default.createElement(ee.Table,{condensed:!0},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"attack-name"},Y.default.createElement("small",null,"Attack")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Total")),Y.default.createElement("th",{className:"hidden-xs"}),Y.default.createElement("th",null,Y.default.createElement("small",null,"BAB")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Abil",Y.default.createElement("span",{className:"hidden-xs"},"ity"))),Y.default.createElement("th",null,Y.default.createElement("small",null,"Size")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Misc")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Temp")))),Y.default.createElement("tbody",null,r,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"CMB"),Y.default.createElement("th",{className:"success"},e.getClassTypeTotal("bab")+n-a+e.getState(["cmb","misc"],0)+e.getState(["cmb","temp"],0)),Y.default.createElement("td",{className:"hidden-xs"}),Y.default.createElement("td",null,e.getClassTypeTotal("bab")),Y.default.createElement("td",null,Y.default.createElement(h,{title:"STR for small and larger, DEX for tiny and smaller. Use the misc modifier to adjust for the Agile Maneuvers feat."},n)),Y.default.createElement("td",null,Y.default.createElement(h,{title:"*special* size modifier"},-a)),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["cmb","misc"]}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["cmb","temp"]})))),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"CMD"),Y.default.createElement("th",{className:"success"},10+e.getClassTypeTotal("bab")+t+l+e.getState(["ac","dodge"],0)+e.getState(["ac","deflect"],0)-a+e.getState(["cmd","misc"],0)+e.getState(["cmd","temp"],0)),Y.default.createElement("td",{className:"hidden-xs"},Y.default.createElement("small",null,"10+")),Y.default.createElement("td",null,e.getClassTypeTotal("bab")),Y.default.createElement("td",null,Y.default.createElement(h,{title:"STR+DEX+dodge+deflect"},t+l+e.getState(["ac","dodge"],0)+e.getState(["ac","deflect"],0))),Y.default.createElement("td",null,Y.default.createElement(h,{title:"*special* size modifier"},-a)),Y.default.createElement("td",null,Y.default.createElement(h,{title:"Add here any insight, luck, morale, profane, and sacred bonuses to AC"},Y.default.createElement(E,_({},e,{propKey:["cmd","misc"]})))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["cmd","temp"]}))))))}function k(e){var t=["ac","max-dex","skill-penalty","spell-fail","weight"],l=t.map(function(t){return Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["armor",t]})))}),a=t.map(function(t){return Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["shield",t]})))});return Y.default.createElement(ee.Table,{condensed:!0,className:"armor-table"},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",null),Y.default.createElement("th",{className:"armor-name"},Y.default.createElement("small",null,"Armor name & description")),Y.default.createElement("th",null,Y.default.createElement("small",null,"AC Bonus")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Max Dex")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Check penalty")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Spell fail")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Weight")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Type")))),Y.default.createElement("tbody",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},Y.default.createElement("small",null,"Armor")),Y.default.createElement("td",null,Y.default.createElement(Ee,_({},e,{propKey:["armor","desc"],placeholder:"armor note",onerow:!0}))),l,Y.default.createElement("td",null,Y.default.createElement(L,_({},e,{propKey:["armor","type"],options:se,className:"appearance-none"})))),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},Y.default.createElement("small",null,"Shield")),Y.default.createElement("td",null,Y.default.createElement(Ee,_({},e,{propKey:["shield","desc"],placeholder:"shield note",onerow:!0}))),a)))}function x(e){for(var t=["bonus","dmg","crit","range","type","weight"],l=[],a=0;a<20&&!(a>0&&isEmpty(e.getState(["weapon"+(a-1)])));a++){var r=t.map(function(t){return Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["weapon"+a,t]})))}),u=Y.default.createElement("tr",null,Y.default.createElement("td",null,Y.default.createElement(Ee,_({},e,{propKey:["weapon"+a,"desc"],placeholder:"name",onerow:!0}))),r,Y.default.createElement("td",null,Y.default.createElement(Ee,_({},e,{propKey:["weapon"+a,"note"],placeholder:"notes",onerow:!0}))));l=[].concat(n(l),[u])}return Y.default.createElement(ee.Table,{condensed:!0,className:"weapon-table"},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"weapon-name"},Y.default.createElement("small",null,"Weapon name & description")),Y.default.createElement("th",{className:"weapon-bonus"},Y.default.createElement("small",null,"Attack bonus")),Y.default.createElement("th",{className:"weapon-damage"},Y.default.createElement("small",null,"Damage")),Y.default.createElement("th",{className:"weapon-critical"},Y.default.createElement("small",null,"Critical")),Y.default.createElement("th",{className:"weapon-range"},Y.default.createElement("small",null,"Range")),Y.default.createElement("th",{className:"weapon-type"},Y.default.createElement("small",null,"Type")),Y.default.createElement("th",{className:"weapon-weight"},Y.default.createElement("small",null,"Weight")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Notes & ammo")))),Y.default.createElement("tbody",null,l))}function A(e){var t=e.propKey,l=e.inline;return Y.default.createElement(ee.FormGroup,{controlId:t.join("-")},Y.default.createElement(ee.Checkbox,{inline:l,checked:e.getState(t),onChange:e.handleChange(t)},e.children))}function L(e){var t=e.propKey,l=e.className,a=e.options,n=e.getState(t),r=a.indexOf(n)>-1?"":Y.default.createElement("option",null),u=a.map(function(e,t){return Y.default.createElement("option",{value:e},e)});return Y.default.createElement(ee.FormGroup,{controlId:t.join("-"),bsSize:e.bsSize||"sm"},Y.default.createElement(ee.FormControl,{componentClass:"select",className:l,placeholder:e.getState(t),value:e.getState(t),onChange:e.handleChange(t)},r,u))}function D(e){var t=e.propKey,l=[].concat(n(t),["ability"]),a=e.getState(l),r=Ke.indexOf(a)>-1,u=Y.default.createElement("span",null,Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["categ"])})),r?"*":""),c=Y.default.createElement(L,_({},e,{propKey:l,options:ae})),d=isEmpty(e.getState([].concat(n(t),["categ"]),{}));return Y.default.createElement(R,_({},e,{nameField:u,ability:a,abilityField:c,hasAcPenalty:r,empty:d}))}function M(e){var t=e.propKey,l=e.name,a=e.ability,r=e.hasCategory,u=Ke.indexOf(a)>-1,c=l+(r?": ":""),d=r?Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["categ"])})):"",m=Y.default.createElement("span",null,c,d);return Y.default.createElement(R,_({},e,{nameField:m,ability:a,abilityField:a,hasAcPenalty:u}))}function R(e){var t=e.propKey,l=e.nameField,a=e.ability,r=e.abilityField,u=e.hasAcPenalty,c=e.isUntrainedUse,d=e.empty,m=e.getState([].concat(n(t),["ranks"])),s=e.getState([].concat(n(t),["is-class"]));return Y.default.createElement("tr",null,Y.default.createElement("td",{className:"skill-name"},Y.default.createElement(A,_({},e,{inline:!0,propKey:[].concat(n(t),["is-class"])}),Y.default.createElement("small",null,l))),Y.default.createElement("td",{className:"skill-ability"},Y.default.createElement("small",null,d?"":r)),Y.default.createElement("th",{className:"success"},Y.default.createElement("small",null,c||void 0!==m?e.getState([].concat(n(t),["ranks"]),0)+e.getAbilityMod(a)+(m>0&&s?3:0)+e.getState([].concat(n(t),["misc"]),0)+e.getState([].concat(n(t),["temp"]),0)-(u?e.getCurrentSkillCheckPenalty():0)+(u?"*":""):"")),Y.default.createElement("td",null,Y.default.createElement("small",null,Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["ranks"])})))),Y.default.createElement("td",null,Y.default.createElement("small",null,d?"":e.getAbilityMod(a))),Y.default.createElement("td",null,Y.default.createElement("small",null,m>0&&s?3:0)),Y.default.createElement("td",null,Y.default.createElement("small",null,Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["misc"])})))),Y.default.createElement("td",null,Y.default.createElement("small",null,Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["temp"])})))))}function O(e){for(var t=["DEX","INT","CHA","STR","INT","CHA","DEX","CHA","DEX","DEX","CHA","WIS","CHA","INT","INT","WIS","CHA","WIS","DEX","WIS","DEX","INT","DEX","WIS","STR","CHA",""],l=["Acrobatics","Appraise","Bluff","Climb","Craft","Diplomacy","Disable Device","Disguise","Escape Artist","Fly","Handle Animal","Heal","Intimidate","Kn","Linguistics","Perception","Perf","Prof","Ride","Sense Motive","Sleight of Hand","Spellcraft","Stealth","Survival","Swim","Use Magic Device"],a=["Skill","Acrobatics","Appraise","Bluff","Climb","Craft","Diplomacy","Disguise","Escape Artist","Fly","Heal","Intimidate","Perception","Perf","Ride","Sense Motive","Stealth","Survival","Swim"],n=["Craft","Kn","Perf","Prof"],r=l.reduce(function(l,r,u){var c=n.indexOf(r)>-1,d=a.indexOf(r)>-1;if(!c)return l=l.concat(Y.default.createElement(M,_({},e,{name:r,propKey:["skill",r.toLowerCase()],isUntrainedUse:d,ability:t[u],hasCategory:c})));for(var m=0;m<10;m++){var s=["skill",r.toLowerCase()+m],o=["skill",r.toLowerCase()+(m-1)];m>0&&isEmpty(e.getState(o,{}))&&isEmpty(e.getState(s,{}))||(l=l.concat(Y.default.createElement(M,_({},e,{name:r,propKey:s,isUntrainedUse:d,ability:t[u],hasCategory:c}))))}return l},[]),u=[],c=0;c<10;c++){var d=["skill","custom"+c],m=["skill","custom"+(c-1)];c>0&&isEmpty(e.getState([].concat(m,["categ"]),{}))&&isEmpty(e.getState(d,{}))||(u=u.concat(Y.default.createElement(D,_({},e,{propKey:d}))))}var s=e.getClassTypeTotal("skill"),o=e.skill&&Object.keys(e.skill).reduce(function(t,l){return t+e.getState(["skill",l,"ranks"],0)},0),f=s-o,i=" (unused ranks "+f+")";return Y.default.createElement(ee.Table,{striped:!0,condensed:!0,className:"skill-table"},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"skill-name",colSpan:2},Y.default.createElement("small",null,"Skill",i)),Y.default.createElement("th",null,Y.default.createElement("small",null,"Total")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Ranks")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Abil")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Trn.")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Misc")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Temp")))),Y.default.createElement("tbody",null,r,u),Y.default.createElement("tfoot",{className:"small"},Y.default.createElement("tr",null,Y.default.createElement("td",{colSpan:8},"*: denotes that current skill check penalty is applied:",e.getCurrentSkillCheckPenalty(),Y.default.createElement("br",null),"(using a move action to drop your equipment would change it to:",e.getArmedSkillCheckPenalty(),")"))))}function F(e){var t=e.getState(["rage","level"]);return t>19?{header:"Mighty Rage",STR:8,CON:8,will:4,ac:-2}:t>10?{header:"Greater Rage",STR:6,CON:6,will:3,ac:-2}:{header:"Rage",STR:4,CON:4,will:2,ac:-2}}function I(e){for(var t=[],l=0;l<50;l++){var a=["eq",""+l],n=["eq",""+(l-1)];l>0&&isEmpty(e.getState(n,{}))&&isEmpty(e.getState(a,{}))||(t=t.concat(Y.default.createElement(P,_({},e,{propKey:a}))))}return Y.default.createElement(ee.Table,{condensed:!0,className:"equipment-table"},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"equipment-name"},Y.default.createElement("small",null,"Equipment name & description")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Value")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Weight")))),Y.default.createElement("tbody",null,t))}function P(e){var t=e.propKey;return Y.default.createElement("tr",null,Y.default.createElement("td",null,Y.default.createElement("small",null,Y.default.createElement(Ee,_({},e,{placeholder:"name note",propKey:[].concat(n(t),["name"]),onerow:!0})))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["value"])}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["weight"])}))))}function U(e){if(!e.getState(["rage"]))return Y.default.createElement("span",null);var t=e.getState(["rage","level"]),l=2+2*t+e.getAbilityMod("CON",!0)+e.getState(["rage","rounds","misc"],0)-e.getState(["rage","rounds","used"],0),a=F(e),n=Y.default.createElement(A,_({},e,{inline:!0,propKey:["rage","enable"]}),a.header),r=e.getState(["rage","enable"],!1)?"success":"";return Y.default.createElement(ee.Panel,{header:n},Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{sm:8},Y.default.createElement(ee.Row,null,Y.default.createElement(m,_({},e,{label:"Class levels",propKey:["rage","level"],xs:3})),Y.default.createElement(m,_({},e,{label:"Misc rounds",propKey:["rage","rounds","misc"],xs:3})),Y.default.createElement(m,_({},e,{label:"Used rounds",validationState:"warning",propKey:["rage","rounds","used"],xs:3})),Y.default.createElement(d,{label:"Rounds of rage left",validationState:"success",xs:3},l)),Y.default.createElement(ee.Row,null,Y.default.createElement(d,{label:"STR bonus",validationState:r,xs:3},a.STR),Y.default.createElement(d,{label:"CON bonus",validationState:r,xs:3},a.CON),Y.default.createElement(d,{label:"Will bonus",validationState:r,xs:3},a.will),Y.default.createElement(d,{label:"AC penalty",validationState:r,xs:3},a.ac))),Y.default.createElement(ee.Col,{sm:4},Y.default.createElement(Ee,_({},e,{noteKey:"rage",val:e.note.rage})))))}function z(e){var t=me.map(function(t){return Y.default.createElement(j,_({},e,{propKey:[t]}))});return Y.default.createElement("div",null,t)}function W(e){var t=e.propKey;return Y.default.createElement(ee.Table,{condensed:!0,className:"spells-header-table"},Y.default.createElement("thead",null,Y.default.createElement("tr",{className:"middle"},Y.default.createElement("td",null,"Spellcaster class:"),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{bsSize:"sm",propKey:[].concat(n(t),["className"])}))),Y.default.createElement("td",null,"Level:"),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{bsSize:"sm",propKey:[].concat(n(t),["level"])}))),Y.default.createElement("td",null,"Ability:"),Y.default.createElement("td",null,Y.default.createElement(L,_({},e,{propKey:[].concat(n(t),["ability"]),options:ae}))))))}function B(e){var t=e.propKey,l=e.level,a=e.dcPlaceholder;if(void 0===e.getState([].concat(n(t),["name"])))return Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},l),Y.default.createElement("th",null),Y.default.createElement("th",null),Y.default.createElement("th",null),Y.default.createElement("th",null),Y.default.createElement("th",null),Y.default.createElement("td",null,Y.default.createElement(Ee,_({},e,{propKey:[].concat(n(t),["name"]),placeholder:"spell name & description",onerow:!0}))));var r=e.getState([].concat(n(t),["prep"])),u=e.getState([].concat(n(t),["used"]),0),c=_({},e,{placeholder:a}),d={className:r>0?"success":""},m={className:r<u?"danger":"warning"};return Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},l),Y.default.createElement("td",null,Y.default.createElement(A,_({},e,{propKey:[].concat(n(t),["SR"])}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},c,{propKey:[].concat(n(t),["dc"])}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["save"])}))),Y.default.createElement("td",d,Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["prep"])}))),Y.default.createElement("td",m,Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["used"])}))),Y.default.createElement("td",null,Y.default.createElement(Ee,_({},e,{propKey:[].concat(n(t),["name"]),placeholder:"spell name & description",onerow:!0}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["school"])}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[].concat(n(t),["duration"])}))),Y.default.createElement("td",{className:"spell-range"},Y.default.createElement(L,_({},e,{propKey:[].concat(n(t),["range"]),options:ke,className:"appearance-none"}))))}function j(e){var t=e.propKey;if(!e.getState(t))return null;var l=[],a=e.getAbilityMod(e.getState([].concat(n(t),["ability"])),!0),r=[0,1,2,3,4,5,6,7,8,9].map(function(r){if(!(r>0&&void 0===e.getState([].concat(n(t),["l"+(r-1),"class"])))){for(var u=[].concat(n(t),["l"+r]),c=void 0===e.getState([].concat(n(u),["class"]))?"hidden":"",d=0==r?0:a,m=0;m<e.getState([].concat(n(u),["known"]),0);m++)if(!(m>0&&void 0===e.getState([].concat(n(u),[String(m-1)]))&&void 0===e.getState([].concat(n(u),[String(m)])))){var s=[].concat(n(u),[String(m)]);l=[].concat(n(l),[Y.default.createElement(B,_({},e,{dcPlaceholder:e.getState([].concat(n(u),["dc"]),10+r+a),propKey:s,level:r,key:s.join(".")}))])}var o=void 0===e.getState([].concat(n(u),["class"]))?"":d-e.getState([].concat(n(u),["used"]),0)+["class","misc"].reduce(function(t,l){return t+e.getState([].concat(n(u),[l]),0)},0),f={className:o>0?"success":"text-center"},i={className:void 0===e.getState([].concat(n(u),["class"]))?"":o<0?"danger":"warning"};return Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},r),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{className:c,propKey:[].concat(n(u),["known"])}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{className:c,propKey:[].concat(n(u),["dc"]),placeholder:10+r+a}))),Y.default.createElement("th",f,o),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:[].concat(n(u),["class"])}))),Y.default.createElement("td",null,c?"":d||""),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{className:c,propKey:[].concat(n(u),["misc"])}))),Y.default.createElement("td",i,Y.default.createElement(E,_({},e,{className:c,propKey:[].concat(n(u),["used"])}))))}});return Y.default.createElement(ee.Panel,{header:W(_({},e,{propKey:t}))},Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{sm:6},Y.default.createElement(ee.Table,{condensed:!0,className:"spells-table"},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",null,Y.default.createElement("small",null,"Spell Level")),Y.default.createElement("th",null,Y.default.createElement("small",null,"#Spells known")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Save DC")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Spells remaining")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Class daily #")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Ability bonus")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Misc bonus")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Used")))),Y.default.createElement("tbody",null,r))),Y.default.createElement(ee.Col,{sm:6},Y.default.createElement(ee.Table,{condensed:!0,className:"spellRange-table"},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("td",null),Y.default.createElement("td",null,"Close"),Y.default.createElement("td",null,"Medium"),Y.default.createElement("td",null,"Long"))),Y.default.createElement("tbody",null,Y.default.createElement("tr",null,Y.default.createElement("td",{className:"active"},"Range (ft)"),Y.default.createElement("th",{className:"success"},25+5*Math.floor(e.getState([].concat(n(t),["level"]))/2)),Y.default.createElement("th",{className:"success"},100+10*e.getState([].concat(n(t),["level"]))),Y.default.createElement("th",{className:"success"},400+40*e.getState([].concat(n(t),["level"])))))),Y.default.createElement(Ee,_({},e,{placeholder:"Specialty, domain, familiar, etc. notes",propKey:[].concat(n(t),["note"]),val:e.getState([].concat(n(t),["note"]))})))),Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{xs:12},Y.default.createElement(ee.Table,{condensed:!0,className:"spell-list-table small"},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",null,Y.default.createElement("small",null,"Lvl")),Y.default.createElement("th",null,Y.default.createElement("small",null,"SR")),Y.default.createElement("th",null,Y.default.createElement("small",null,"DC")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Save type")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Prep")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Used")),Y.default.createElement("th",{className:"spell-name"},Y.default.createElement("small",null,"Spell name & description & ref")),Y.default.createElement("th",null,Y.default.createElement("small",null,"School")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Duration")),Y.default.createElement("th",null,Y.default.createElement("small",null,"Range")))),Y.default.createElement("tbody",null,l)))))}function H(e){function t(e){console.log("clearTemp")}function l(e){t(e),console.log("clearSubdual")}function a(e){console.log("clearUses")}function n(e){a(e),console.log("clearDamage")}return Y.default.createElement(ee.Navbar,{fluid:!0},Y.default.createElement(ee.Navbar.Header,null,Y.default.createElement(ee.Navbar.Brand,null,"Version: "+e.getState(["md","rev"],0)),Y.default.createElement(ee.Navbar.Toggle,null)),Y.default.createElement(ee.Navbar.Collapse,null,Y.default.createElement(ee.Navbar.Text,null,"last change at: "+e.getState(["md","prevChangeTime"],"N/A")),Y.default.createElement(ee.Nav,null,Y.default.createElement(ee.NavDropdown,{title:"TODO: Clear...",className:"hidden"},Y.default.createElement(ee.MenuItem,{onSelect:t},"Temporary bonuses"),Y.default.createElement(ee.MenuItem,{onSelect:l},"Temporary bonuses and subdual damage"),Y.default.createElement(ee.MenuItem,{onSelect:a},"Uses per day"),Y.default.createElement(ee.MenuItem,{onSelect:n},"Uses per day and all damage"))),Y.default.createElement(ee.Nav,null,Y.default.createElement(ee.NavDropdown,{title:"Add fields for..."},Y.default.createElement(ee.MenuItem,{onSelect:e.handleChange(["rage"],Object)},"Rage"),Y.default.createElement(ee.MenuItem,{onSelect:e.handleChange([me.find(function(t){return!e[t]})],Object)},"Spellcaster class and spell list"),Y.default.createElement(ee.MenuItem,{className:"hidden"},"TODO:Spell like ability list"))),Y.default.createElement(ee.Nav,{pullRight:!0},Y.default.createElement(ee.NavDropdown,{pullRight:!0,title:Y.default.createElement("small",null,"Debug")},Y.default.createElement(ee.MenuItem,{onSelect:e.handleChange(["debug"],X)},Y.default.createElement(ee.Checkbox,{checked:e.getState(["debug"],!1)},"console debug")),Y.default.createElement(ee.MenuItem,{onSelect:e.handleChange(["react_perf"],X)},Y.default.createElement(ee.Checkbox,{checked:e.getState(["react_perf"],!1)},"react_perf"))))))}function V(e){function t(e){var t=[-1].concat(n);return r>t[3]&&e<3?"danger":t[e]<r&&r<=t[e+1]?"info":""}function l(e){return u==e?"success":""}function a(t){return se[t]==e.getState("armor.type")?"success":""}var n=e.getLoadLevels(),r=e.getCurrentLoad(),u=e.getArmedLoadName();return Y.default.createElement(ee.Table,{condensed:!0,className:"load-table small"},Y.default.createElement("thead",null,Y.default.createElement("tr",null,Y.default.createElement("th",null,"Encumberance"),Y.default.createElement("td",null,"Light"),Y.default.createElement("td",null,"Medium"),Y.default.createElement("td",null,"Heavy"),Y.default.createElement("td",null,"Lift"),Y.default.createElement("td",null,"Drag"))),Y.default.createElement("tbody",null,Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Current load: ",Y.default.createElement("strong",null,r)),Y.default.createElement("td",{className:t(0)},n[0]),Y.default.createElement("td",{className:t(1)},n[1]),Y.default.createElement("td",{className:t(2)},n[2]),Y.default.createElement("td",{className:t(3)},2*n[2]),Y.default.createElement("td",{className:t(4)},5*n[2])),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Combat load: ",Y.default.createElement("strong",null,e.getArmedLoad())),Y.default.createElement("td",{className:l("light")},n[0]),Y.default.createElement("td",{className:l("medium")},n[1]),Y.default.createElement("td",{className:l("heavy")},n[2]),Y.default.createElement("td",{className:l("lift")},2*n[2]),Y.default.createElement("td",{className:l("drag")},5*n[2])),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Max DEX to AC"),Y.default.createElement("td",{className:l("light")},"-"),Y.default.createElement("td",{className:l("medium")},Y.default.createElement(E,_({},e,{propKey:["load","medium","max-dex"],placeholder:"3",className:"width-2-digit"}))),Y.default.createElement("td",{className:l("heavy")},Y.default.createElement(E,_({},e,{propKey:["load","heavy","max-dex"],placeholder:"1",className:"width-2-digit"}))),Y.default.createElement("td",null,Y.default.createElement(E,_({},e,{propKey:["load","stagger","max-dex"],placeholder:"0",className:"width-2-digit"})))),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Skill check penalty"),Y.default.createElement("td",{className:l("light")},"0"),Y.default.createElement("td",{className:l("medium")},Y.default.createElement(E,_({},e,{propKey:["load","medium","skill-penalty"],placeholder:"3",className:"width-2-digit"}))),Y.default.createElement("td",{className:l("heavy")},Y.default.createElement(E,_({},e,{propKey:["load","heavy","skill-penalty"],placeholder:"6",className:"width-2-digit"}))),Y.default.createElement("td",null)),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Base speed (run)"),Y.default.createElement("td",{className:l("light")},Y.default.createElement(E,_({},e,{propKey:["load","light","base-speed"],className:"width-5em"}))),Y.default.createElement("td",{className:l("medium")},Y.default.createElement(E,_({},e,{propKey:["load","medium","base-speed"],className:"width-5em"}))),Y.default.createElement("td",{className:l("heavy")},Y.default.createElement(E,_({},e,{propKey:["load","heavy","base-speed"],className:"width-5em"}))),Y.default.createElement("td",{className:l("lift")},e.getValue(["load","lift","base-speed"]))),Y.default.createElement("tr",null,Y.default.createElement("th",{className:"active"},"Speed with armor (run)"),Y.default.createElement("td",{className:a(0)},e.getValue("load.light.base-speed")),Y.default.createElement("td",{className:a(1)},Y.default.createElement(E,_({},e,{propKey:["armor","medium","base-speed"],className:"width-5em"}))),Y.default.createElement("td",{className:a(2)},Y.default.createElement(E,_({},e,{propKey:["armor","heavy","base-speed"],className:"width-5em"}))))))}function X(e){return!e||void 0}var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G=function(){function e(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,l,a){return l&&e(t.prototype,l),a&&e(t,a),t}}();l(207);var J=l(577),Q=(a(J),l(1)),Y=a(Q),Z=l(35),$=a(Z),ee=l(640),te=l(727),le=l(316),ae=["STR","DEX","CON","INT","WIS","CHA"],ne=["base","enhance","misc","temp"],re=["class1","class2","class3","class4","class5","class6","class7","class8","class9","class10"],ue=["class","hd","hp","skill","bab","fort","refl","will","levels"],ce=["weapon0","weapon1","weapon2","weapon3","weapon4","weapon5","weapon6","weapon7","weapon8","weapon9","weapon10","weapon11","weapon12","weapon13","weapon14","weapon15","weapon16","weapon17","weapon18","weapon19","weapon20"],de=["fort","refl","will"],me=["sp0","sp1","sp2","sp3","sp4"],se=["Light","Medium","Heavy"],oe=function(e){function t(e){r(this,t);var l=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.prevChangeWasToKey="",l.state={},l.default={stat:{size:0,STR:{base:10},DEX:{base:10},CON:{base:10},INT:{base:10},WIS:{base:10},CHA:{base:10}},load:{light:{"base-speed":"30 (x4)","max-dex":1/0,"skill-penalty":0},medium:{"base-speed":function(e){return le.Speed.reduceBase(e.getValue("load.light.base-speed")).toString()},"max-dex":3,"skill-penalty":3},heavy:{"base-speed":function(e){return le.Speed.reduceRun(e.getValue("load.medium.base-speed")).toString()},"max-dex":1,"skill-penalty":6},lift:{"base-speed":"5/round"}},armor:{light:{"base-speed":function(e){return e.getValue("load.light.base-speed")}},medium:{"base-speed":function(e){return le.Speed.reduceBase(e.getValue("armor.light.base-speed")).toString()}},heavy:{"base-speed":function(e){return le.Speed.reduceRun(e.getValue("armor.medium.base-speed")).toString()}}},speed:{swim:function(e){return le.Speed.halfBase(e.getCurrentSpeed()).base+"/round"},climb:function(e){return le.Speed.halfBase(e.getCurrentSpeed()).base+"/round"}}},l.prevHistoryPushWasWithKey,l.isLoading=!1,l.fn={},l.fn.handleChange=l.handleChange.bind(l),l.fn.getState=l.getState.bind(l),l.fn.getClassTypeTotal=l.getClassTypeTotal.bind(l),l.fn.getAbilityTotal=l.getAbilityTotal.bind(l),l.fn.getAbilityMod=l.getAbilityMod.bind(l),l.fn.getArmorLimitedDex=l.getArmorLimitedDex.bind(l),l.fn.getCurrentLoad=l.getCurrentLoad.bind(l),l.fn.getCurrentLoadName=l.getCurrentLoadName.bind(l),l.fn.getArmedLoad=l.getArmedLoad.bind(l),l.fn.getArmedLoadName=l.getArmedLoadName.bind(l),l.fn.getLoadLevels=l.getLoadLevels.bind(l),l.fn.getArmedSpeed=l.getArmedSpeed.bind(l),l.fn.getCurrentSpeed=l.getCurrentSpeed.bind(l),l.fn.getOverlandSpeed=l.getOverlandSpeed.bind(l),l.fn.getArmedSkillCheckPenalty=l.getArmedSkillCheckPenalty.bind(l),l.fn.getCurrentSkillCheckPenalty=l.getCurrentSkillCheckPenalty.bind(l),l.fn.getDefault=l.getDefault.bind(l),l.fn.getValue=l.getValue.bind(l),window.app=l,l}return c(t,e),G(t,[{key:"componentDidUpdate",value:function(e,t){function l(e,t){if(void 0===e)console.debug("componentDidUpdate: skipping undefined at",t);else if("function"==typeof e)console.warn("componentDidUpdate: function at",t);else if(Object(e)!==e)console.debug("componentDidUpdate saving:",t,e,void 0===e?"undefined":q(e)),n[t]=e;else if(Array.isArray(e))console.warn("componentDidUpdate: skipping array at",t);else for(var a in e)l(e[a],t?t+"."+a:a)}var a=this.getState(["info","character"])+"(lvl"+this.getClassTypeTotal("levels")+") v"+this.getState(["md","rev"],0)+" / "+this.getState(["md","prevChangeTime"],"");if(this.isLoading)return void(document.title=a);var n={};l(this.state,"");var r="";for(var u in n)r+="&"+u+"="+encodeURIComponent(n[u]);""+this.prevHistoryPushWasWithKey==""+this.prevChangeWasToKey?(console.debug("history.replaceState",a),history.replaceState(this.state,a,"?"+r.slice(1).replace(/\%20/g,"+"))):(console.debug("history.pushState",a),history.pushState(this.state,a,"?"+r.slice(1).replace(/\%20/g,"+")),this.prevHistoryPushWasWithKey=this.prevChangeWasToKey),document.title=a}},{key:"componentWillMount",value:function(){function e(e){return ae.indexOf(e.split(".")[0])>-1?"stat."+e:"info.size"==e||"size"==e?"stat.size":(0==e.indexOf("info")&&(e=e.toLowerCase()),0==e.indexOf("info.init")?e.replace("info.init","init"):0==e.indexOf("info.speed")?e.replace("info.speed","speed"):e.indexOf("acrobatic.")>0?e.replace("acrobatic.","acrobatics."):/refl*\./.test(e)?e.replace(/refl*\./,"refl."):"note.spell1"==e?"sp0.note":0==e.indexOf("spell1.")?e.replace("spell1.","sp0."):0==e.indexOf("speed.land")?"load.light.base-speed":e)}function t(){console.info("componentWillMount: restored state:",this.state),this.prevChangeWasToKey=[""],this.componentDidUpdate(null,null),autoresizeAll(),this.isLoading=!1}var l=this,a=function(t){t=t.split("+").join(" ");for(var l,a={},n=/[?&]?([^=]+)=([^&]*)/g;l=n.exec(t);){var r=decodeURIComponent(l[1]),u=decodeURIComponent(l[2]);0!=r.indexOf("prevChangeWasToKey")&&(u!={}.toString()&&(a[e(r)]=u))}return a}(window.location.search);if(this.isLoading=!0,a.state){var n=JSON.parse(a.state);console.info("componentWillMount: restoring state:",n),this.setState(n,t)}else this.setState(function(e,t){for(var n in a)l.setStateByKey(n.split("."),a[n])},t)}},{key:"popstateRestore",value:function(e){var t=this;console.log("popstate: restoring state",e.state,"from",e),this.isLoading=!0,this.setState(e.state,function(){console.debug("popstate: forcing update"),t.forceUpdate(function(){t.isLoading=!1,console.debug("popstate: restoring state complete:",t.state),autoresizeAll()})})}},{key:"componentDidMount",value:function(){var e=this;window.onpopstate=function(t){return e.popstateRestore(t)}}},{key:"withPropKeyValue",value:function(e,t,l){l=l==parseFloat(l).toString()?parseFloat(l):l,l="false"!==l&&l;var a={},n=a,r=t.slice(0,-1).reduce(function(e,t){return void 0===e[t]?n=n[t]={}:(n=n[t]=_({},e[t]),e[t])},e);r[t[t.length-1]];return n[t[t.length-1]]=l,a}},{key:"setStateByKey",value:function(e,t){var l=this;e.indexOf(".")>0&&(e=e.split(".")),this.setState(function(a,n){var r=l.withPropKeyValue(a,e,t);return l.isLoading||(r.md={prevChangeTime:(new Date).toLocaleString("sv-SV"),rev:(a.md&&a.md.rev||0)+1}),l.prevChangeWasToKey=e,r})}},{key:"handleChange",value:function(e,t){var l=this;return function(a){if(void 0!==t){var n=l.getState(e),r=t(n,a);return console.debug("handleChange mutator:",e,r,n,t),l.setStateByKey(e,r)}var u="checkbox"===a.target.type?a.target.checked:a.target.value,c="boolean"==typeof u?u||void 0:0==u.length?void 0:u;console.log("handleChange event",e,c,u,a.target),l.setStateByKey(e,c)}}},{key:"getState",value:function(e,t,l){if(l||(l=void 0===t?"undefined":q(t)),"number"===l){var a=this.getState(e);if(void 0===t&&void 0===a)return;return Number(this.getState(e)||t)}if("boolean"===l)return"true"===this.getState(e,"false").toString();if(e.indexOf(".")>0&&(e=e.split(".")),!Array.isArray(e))throw new Error("propKey must be an array or dot-separated: "+e);var n=e.reduce(function(e,t){return"object"==(void 0===e?"undefined":q(e))&&t in e?e[t]:void 0},this.state);return void 0!==n?n:t}},{key:"getDefault",value:function(e){e.indexOf(".")>0&&(e=e.split("."));var t=e.reduce(function(e,t){return"object"==(void 0===e?"undefined":q(e))&&t in e?e[t]:void 0},this.default);return"function"==typeof t?t(this.fn):t}},{key:"getValue",value:function(e,t){var l=this.getState(e,void 0,void 0===t?"undefined":q(t));if(void 0!==l)return l;var a=this.getDefault(e);return void 0!==a?a:t}},{key:"getClassTypeTotal",value:function(e){var t=this;return re.reduce(function(l,a){return l+t.getState([a,e],0)},0)}},{key:"getAbilityTotal",value:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(-1==ae.indexOf(e))return NaN;var a=this.getState(["rage","enable"])&&!l?F(this.fn)[e]||0:0;return ne.filter(function(e){return!l||"temp"!==e}).reduce(function(l,a){return l+t.getValue(["stat",e,a],0)},0)+a}},{key:"getAbilityMod",value:function(e,t){return Math.round((this.getAbilityTotal(e,t)-11)/2)}},{key:"getArmorLimitedDex",value:function(){return Math.min(this.getAbilityMod("DEX"),this.getState(["armor","max-dex"],1/0),this.getState(["shield","max-dex"],1/0),this.getValue("load."+this.getLoadName(this.getArmedLoad())+".max-dex"))}},{key:"getCurrentLoad",value:function(){var e=this;return[].concat(ce,["armor","shield"]).map(function(e){return[e]}).concat(Object.keys(this.state.eq||{}).map(function(e){return["eq",e]})).reduce(function(t,l){var a=[].concat(n(l),["weight"]);return t+e.getState(a,0)},0)}},{key:"getCurrentLoadName",value:function(){return this.getLoadName(this.getCurrentLoad())}},{key:"getArmedLoad",value:function(){var e=this;return[].concat(ce,["armor","shield"]).map(function(e){return[e]}).reduce(function(t,l){var a=[].concat(n(l),["weight"]);return t+e.getState(a,0)},0)}},{key:"getArmedLoadName",value:function(){return this.getLoadName(this.getArmedLoad())}},{key:"getLoadName",value:function(e){return["light","medium","heavy","lift","drag","overloaded"][this.getLoadLevels().findIndex(function(t){return e<=t})]}},{key:"getLoadLevels",value:function(){function e(t){return t<11?10*t:t>14?2*e(t-5):[115,130,150,175][t-11]}function t(e,l){return 2==l?e<0?2*-e:0==e?1:1==e?.75:1/e:4==l?e<1?3*t(e,2)/2:1==e?1:2==e?.75:2*t(e,2):void 0}var l=Math.floor(e(this.getAbilityTotal("STR"))*t(this.getValue(["stat","size"]),this.getState(["stat","legs"],2)));return[Math.floor(1/3*l),Math.floor(2/3*l),l,2*l,5*l,1/0]}},{key:"getArmedSpeed",value:function(){return le.Speed.min(this.getValue("armor."+this.getState("armor.type","Light").toLowerCase()+".base-speed"),this.getValue("load."+this.getLoadName(this.getArmedLoad())+".base-speed"))}},{key:"getCurrentSpeed",value:function(){return le.Speed.min(this.getArmedSpeed(),this.getValue("load."+this.getCurrentLoadName()+".base-speed"))}},{key:"getOverlandSpeed",value:function(){return le.Speed.parse(this.getCurrentSpeed()).base/10}},{key:"getArmedSkillCheckPenalty",value:function(){return Math.max(this.getState(["armor","skill-penalty"],0)+this.getState(["shield","skill-penalty"],0),this.getValue("load."+this.getArmedLoadName()+".skill-penalty",NaN))}},{key:"getCurrentSkillCheckPenalty",value:function(){return Math.max(this.getArmedSkillCheckPenalty(),this.getValue("load."+this.getCurrentLoadName()+".skill-penalty",NaN))}},{key:"render",value:function(){return Y.default.createElement(ee.Form,null,Y.default.createElement(xe,_({},this.fn,this.state)),Y.default.createElement(ee.Grid,{fluid:!0},Y.default.createElement(fe,_({},this.fn,this.state)),Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{md:5},Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{xs:8,sm:9},Y.default.createElement(ie,_({},this.fn,this.state))),Y.default.createElement(s,_({className:"note-col"},this.fn,this.state,{sm:3,xs:4})),Y.default.createElement(ee.Col,{xs:4,sm:3,className:"note-col"},Y.default.createElement(Ee,_({},this.fn,{noteKey:"ability",val:this.getState("note.ability")}))))),Y.default.createElement(ee.Col,{md:7},Y.default.createElement(he,_({},this.fn,this.state)))),Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{md:7},Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{xs:7},Y.default.createElement(ye,_({},this.fn,this.state)),Y.default.createElement(be,_({},this.fn,this.state))),Y.default.createElement(ee.Col,{xs:5},Y.default.createElement(ge,_({},this.fn,this.state)))),Y.default.createElement(ve,_({},this.fn,this.state)),Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{xs:8},Y.default.createElement(Se,_({},this.fn,this.state))),Y.default.createElement(ee.Col,{xs:4,className:"note-col"},Y.default.createElement(Ee,_({},this.fn,{noteKey:"save",val:this.getState("note.save")})))),Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{xs:8},Y.default.createElement(Ne,_({},this.fn,this.state))),Y.default.createElement(ee.Col,{xs:4,className:"note-col"},Y.default.createElement(Ee,_({},this.fn,{noteKey:"attack",val:this.getState("note.attack")})))),Y.default.createElement(k,this.fn)),Y.default.createElement(ee.Col,{md:5},Y.default.createElement(we,_({},this.fn,this.state))),Y.default.createElement(ee.Col,{xs:12},Y.default.createElement(Ce,_({},this.fn,this.state)))),Y.default.createElement(Te,_({},this.fn,this.state)),Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{sm:12,md:6,className:"note-col"},Y.default.createElement(Ee,_({},this.fn,{noteKey:"feat",val:this.getState("note.feat")}))),Y.default.createElement(ee.Col,{sm:12,md:6,className:"note-col"},Y.default.createElement(Ee,_({},this.fn,{noteKey:"character",val:this.getState("note.character")})))),Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{sm:12,md:6,className:"note-col"},Y.default.createElement(Ee,_({},this.fn,{noteKey:"special",val:this.getState("note.special")}))),Y.default.createElement(ee.Col,{sm:12,md:6,className:"note-col"},Y.default.createElement(Ee,_({},this.fn,{noteKey:"equipment",val:this.getState("note.equipment")})))),Y.default.createElement(I,_({},this.fn,this.state)),Y.default.createElement(ee.Row,null,Y.default.createElement(ee.Col,{sm:7},Y.default.createElement(N,_({},this.fn,this.state)),Y.default.createElement(Ee,_({},this.fn,this.state,{placeholder:"Speed and load notes",onerow:!0,propKey:["load","note"],val:this.getState("load.note")}))),Y.default.createElement(ee.Col,{sm:5},Y.default.createElement(V,_({},this.fn,this.state)))),Y.default.createElement(z,_({},this.fn,this.state))))}}]),t}(Q.Component),fe=(0,te.compose)((0,te.onlyUpdateForKeys)(["info","stat"]),te.pure)(o),ie=(0,te.compose)((0,te.onlyUpdateForKeys)(["stat","rage"]),te.pure)(i),Ee=(0,te.pure)(p),pe=(0,te.pure)(g),he=(0,te.compose)((0,te.onlyUpdateForKeys)([].concat(re)),te.pure)(y),ge=(0,te.compose)((0,te.onlyUpdateForKeys)(["hp","stat"].concat(re,["rage"])),te.pure)(b),ye=(0,te.compose)((0,te.onlyUpdateForKeys)(["init","stat"]),te.pure)(v),be=(0,te.compose)((0,te.onlyUpdateForKeys)(["info"]),te.pure)(S),ve=(0,te.compose)((0,te.onlyUpdateForKeys)(["stat","armor","shield","ac","rage"]),te.pure)(C),Se=(0,te.compose)((0,te.onlyUpdateForKeys)([].concat(de,["stat"],re,["rage"])),te.pure)(w),Ne=(0,te.compose)((0,te.onlyUpdateForKeys)([].concat(re,["stat","rage","melee","ranged","cmb","cmd"])),te.pure)(T),Ce=(0,te.compose)((0,te.onlyUpdateForKeys)(ce),te.pure)(x),Ke=["STR","DEX"],we=(0,te.compose)((0,te.onlyUpdateForKeys)(["skill","stat","armor","shield"].concat(re,["load","eq"],ce)),te.pure)(O),Te=(0,te.compose)((0,te.onlyUpdateForKeys)(["rage","stat","note"]),te.pure)(U),ke=["personal","touch","close","medium","long"],xe=(0,te.compose)((0,te.onlyUpdateForKeys)(["md","debug","react_perf"]),te.pure)(H);$.default.render(Y.default.createElement(oe,null),document.getElementById("root"))},316:function(e,t,l){"use strict";function a(e,t){this.base=e,this.run=t}Object.defineProperty(t,"__esModule",{value:!0}),t.Speed=a,a.prototype.toString=function(){return this.base+" (x"+this.run+")"},a.parse=function(e){return e instanceof a?e:new a(Number((e+" ").split(/[ (x)\/]+/)[0]),Number((e+" ").split(/[ (x)]+/)[1]||4))},a.modifyBase=function(e,t){var l=a.parse(e);return new a(5*Math.ceil(l.base/5*t),l.run)},a.reduceBase=function(e){return a.modifyBase(e,2/3)},a.halfBase=function(e){return a.modifyBase(e,.5)},a.reduceRun=function(e){var t=a.parse(e);return new a(t.base,t.run-1)},a.min=function(e,t){return a.parse(e).base<=a.parse(t).base?e:t}},734:function(e,t,l){l(207),e.exports=l(315)}},[734]);