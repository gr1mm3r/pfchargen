(this["webpackJsonppathfinder-web-sheet"]=this["webpackJsonppathfinder-web-sheet"]||[]).push([[0],{107:function(e,t,a){e.exports=a(192)},191:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var l=a(9),n=a(58),c=a(99),r=a(100),s=a(105),m=a(101),i=a(13),o=a(106),u=a(0),d=a.n(u),E=a(12),p=a.n(E),g=a(8),h=a(11);function b(e,t){this.base=e,this.run=t}b.prototype.toString=function(){return this.base+" (x"+this.run+")"},b.parse=function(e){return e instanceof b?e:new b(Number((e+" ").split(/[ (x)/]+/)[0]),Number((e+" ").split(/[ (x)/]+/)[1]||4))},b.modifyBase=function(e,t){var a=b.parse(e);return new b(5*Math.ceil(a.base/5*t),a.run)},b.reduceBase=function(e){return b.modifyBase(e,2/3)},b.halfBase=function(e){return b.modifyBase(e,.5)},b.reduceRun=function(e){var t=b.parse(e);return new b(t.base,t.run-1)},b.min=function(e,t){return b.parse(e).base<=b.parse(t).base?e:t};a(191);var y=["STR","DEX","CON","INT","WIS","CHA"],f=["base","enhance","misc","temp"],v=["class1","class2","class3","class4","class5","class6","class7","class8","class9","class10"],O=["class","hd","hp","skill","bab","fort","refl","will","levels"],S=["weapon0","weapon1","weapon2","weapon3","weapon4","weapon5","weapon6","weapon7","weapon8","weapon9","weapon10","weapon11","weapon12","weapon13","weapon14","weapon15","weapon16","weapon17","weapon18","weapon19","weapon20"],j=["sp0","sp1","sp2","sp3","sp4"],N=["Light","Medium","Heavy"],K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).prevChangeWasToKey="",a.state={},a.default={stat:{size:0,STR:{base:10},DEX:{base:10},CON:{base:10},INT:{base:10},WIS:{base:10},CHA:{base:10}},load:{light:{"base-speed":"30 (x4)","max-dex":1/0,"skill-penalty":0},medium:{"base-speed":function(e){return b.reduceBase(e.getValue("load.light.base-speed")).toString()},"max-dex":3,"skill-penalty":3},heavy:{"base-speed":function(e){return b.reduceRun(e.getValue("load.medium.base-speed")).toString()},"max-dex":1,"skill-penalty":6},lift:{"base-speed":"5/round"}},armor:{light:{"base-speed":function(e){return e.getValue("load.light.base-speed")}},medium:{"base-speed":function(e){return b.reduceBase(e.getValue("armor.light.base-speed")).toString()}},heavy:{"base-speed":function(e){return b.reduceRun(e.getValue("armor.medium.base-speed")).toString()}}},speed:{swim:function(e){return b.halfBase(e.getCurrentSpeed()).base+"/round"},climb:function(e){return b.halfBase(e.getCurrentSpeed()).base+"/round"}}},a.prevHistoryPushWasWithKey="",a.isLoading=!1,a.fn={},a.fn.handleChange=a.handleChange.bind(Object(i.a)(a)),a.fn.getState=a.getState.bind(Object(i.a)(a)),a.fn.getClassTypeTotal=a.getClassTypeTotal.bind(Object(i.a)(a)),a.fn.getAbilityTotal=a.getAbilityTotal.bind(Object(i.a)(a)),a.fn.getAbilityMod=a.getAbilityMod.bind(Object(i.a)(a)),a.fn.getArmorLimitedDex=a.getArmorLimitedDex.bind(Object(i.a)(a)),a.fn.getCurrentLoad=a.getCurrentLoad.bind(Object(i.a)(a)),a.fn.getCurrentLoadName=a.getCurrentLoadName.bind(Object(i.a)(a)),a.fn.getArmedLoad=a.getArmedLoad.bind(Object(i.a)(a)),a.fn.getArmedLoadName=a.getArmedLoadName.bind(Object(i.a)(a)),a.fn.getLoadLevels=a.getLoadLevels.bind(Object(i.a)(a)),a.fn.getArmedSpeed=a.getArmedSpeed.bind(Object(i.a)(a)),a.fn.getCurrentSpeed=a.getCurrentSpeed.bind(Object(i.a)(a)),a.fn.getOverlandSpeed=a.getOverlandSpeed.bind(Object(i.a)(a)),a.fn.getArmedSkillCheckPenalty=a.getArmedSkillCheckPenalty.bind(Object(i.a)(a)),a.fn.getCurrentSkillCheckPenalty=a.getCurrentSkillCheckPenalty.bind(Object(i.a)(a)),a.fn.getDefault=a.getDefault.bind(Object(i.a)(a)),a.fn.getValue=a.getValue.bind(Object(i.a)(a)),window.app=Object(i.a)(a),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.getState(["info","character"])+"(lvl"+this.getClassTypeTotal("levels")+") v"+this.getState(["meta","rev"],0)+" / "+this.getState(["meta","prevChangeTime"],"");if(this.isLoading)document.title=a;else{var l={};!function e(t,a){if(void 0===t)console.debug("componentDidUpdate: skipping undefined at",a);else if("function"===typeof t)console.warn("componentDidUpdate: function at",a);else if(Object(t)!==t)console.debug("componentDidUpdate saving:",a,t,typeof t),l[a]=t;else if(Array.isArray(t))console.warn("componentDidUpdate: skipping array at",a);else for(var n in t)e(t[n],a?a+"."+n:n)}(this.state,"");var n="";for(var c in l)n+="&"+c+"="+encodeURIComponent(l[c]);""+this.prevHistoryPushWasWithKey===""+this.prevChangeWasToKey?(console.debug("history.replaceState",a),window.history.replaceState(this.state,a,"?"+n.slice(1).replace(/%20/g,"+"))):(console.debug("history.pushState",a),window.history.pushState(this.state,a,"?"+n.slice(1).replace(/%20/g,"+")),this.prevHistoryPushWasWithKey=this.prevChangeWasToKey),document.title=a}}},{key:"componentWillMount",value:function(){var e=this;var t=function(e){e=e.split("+").join(" ");for(var t,a,l={},n=/[?&]?([^=]+)=([^&]*)/g;t=n.exec(e);){var c=decodeURIComponent(t[1]),r=decodeURIComponent(t[2]);0!==c.indexOf("prevChangeWasToKey")&&(r!=={}.toString()&&(l[(a=c,0===a.indexOf("md.")?a.replace("md.","meta."):y.indexOf(a.split(".")[0])>-1?"stat."+a:"info.size"===a||"size"===a?"stat.size":(0===a.indexOf("info")&&(a=a.toLowerCase()),0===a.indexOf("info.init")?a.replace("info.init","init"):0===a.indexOf("info.speed")?a.replace("info.speed","speed"):a.indexOf("acrobatic.")>0?a.replace("acrobatic.","acrobatics."):/refl*\./.test(a)?a.replace(/refl*\./,"refl."):"note.spell1"===a?"sp0.note":0===a.indexOf("spell1.")?a.replace("spell1.","sp0."):0===a.indexOf("speed.land")?"load.light.base-speed":a))]=r))}return l}(window.location.search);if(this.isLoading=!0,t.state){var a=JSON.parse(t.state);console.info("componentWillMount: restoring state:",a),this.setState(a,l)}else this.setState((function(a,l){for(var n in t)e.setStateByKey(n.split("."),t[n])}),l);function l(){console.info("componentWillMount: restored state:",this.state),this.prevChangeWasToKey=[""],this.componentDidUpdate(null,null),ge(),this.isLoading=!1}}},{key:"popstateRestore",value:function(e){var t=this;console.log("popstate: restoring state",e.state,"from",e),this.isLoading=!0,this.setState(e.state,(function(){console.debug("popstate: forcing update"),t.forceUpdate((function(){t.isLoading=!1,console.debug("popstate: restoring state complete:",t.state),ge()}))}))}},{key:"componentDidMount",value:function(){var e=this;window.onpopstate=function(t){return e.popstateRestore(t)}}},{key:"withPropKeyValue",value:function(e,t,a){a="false"!==(a=a===parseFloat(a).toString()?parseFloat(a):a)&&a;var l={},c=l;t.slice(0,-1).reduce((function(e,t){return void 0===e[t]?c=c[t]={}:(c=c[t]=Object(n.a)({},e[t]),e[t])}),e);return c[t[t.length-1]]=a,l}},{key:"setStateByKey",value:function(e,t){var a=this;e.indexOf(".")>0&&(e=e.split(".")),this.setState((function(l,n){var c=a.withPropKeyValue(l,e,t);return a.isLoading||(c.meta={prevChangeTime:(new Date).toLocaleString("sv-SV"),rev:(l.meta&&(l.meta.rev||0))+1}),a.prevChangeWasToKey=e,c}))}},{key:"handleChange",value:function(e,t){var a=this;return function(l){if(void 0!==t){var n=a.getState(e),c=t(n,l);return console.debug("handleChange mutator:",e,c,n,t),a.setStateByKey(e,c)}var r="checkbox"===l.target.type?l.target.checked:l.target.value,s="boolean"===typeof r?r||void 0:0===r.length?void 0:r;console.log("handleChange event",e,s,r,l.target),a.setStateByKey(e,s)}}},{key:"getState",value:function(e,t,a){if(a||(a=typeof t),"number"===a){var l=this.getState(e);if(void 0===t&&void 0===l)return;return Number(this.getState(e)||t)}if("boolean"===a)return"true"===this.getState(e,"false").toString();if(e.indexOf(".")>0&&(e=e.split(".")),!Array.isArray(e))throw new Error("propKey must be an array or dot-separated: "+e);var n=e.reduce((function(e,t){return"object"===typeof e&&t in e?e[t]:void 0}),this.state);return void 0!==n?n:t}},{key:"getDefault",value:function(e){e.indexOf(".")>0&&(e=e.split("."));var t=e.reduce((function(e,t){return"object"===typeof e&&t in e?e[t]:void 0}),this.default);return"function"===typeof t?t(this.fn):t}},{key:"getValue",value:function(e,t){var a=this.getState(e,void 0,typeof t);if(void 0!==a)return a;var l=this.getDefault(e);return void 0!==l?l:t}},{key:"getClassTypeTotal",value:function(e){var t=this;return v.reduce((function(a,l){return a+t.getState([l,e],0)}),0)}},{key:"getAbilityTotal",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(-1===y.indexOf(e))return NaN;var l=this.getState(["rage","enable"])&&!a&&ee(this.fn)[e]||0;return f.filter((function(e){return!a||"temp"!==e})).reduce((function(a,l){return a+t.getValue(["stat",e,l],0)}),0)+l}},{key:"getAbilityMod",value:function(e,t){return Math.round((this.getAbilityTotal(e,t)-11)/2)}},{key:"getArmorLimitedDex",value:function(){return Math.min(this.getAbilityMod("DEX"),this.getState(["armor","max-dex"],1/0),this.getState(["shield","max-dex"],1/0),this.getValue("load."+this.getLoadName(this.getArmedLoad())+".max-dex"))}},{key:"getCurrentLoad",value:function(){var e=this;return[].concat(S,["armor","shield"]).map((function(e){return[e]})).concat(Object.keys(this.state.eq||{}).map((function(e){return["eq",e]}))).reduce((function(t,a){var n=[].concat(Object(l.a)(a),["weight"]);return t+e.getState(n,0)}),0)}},{key:"getCurrentLoadName",value:function(){return this.getLoadName(this.getCurrentLoad())}},{key:"getArmedLoad",value:function(){var e=this;return[].concat(S,["armor","shield"]).map((function(e){return[e]})).reduce((function(t,a){var n=[].concat(Object(l.a)(a),["weight"]);return t+e.getState(n,0)}),0)}},{key:"getArmedLoadName",value:function(){return this.getLoadName(this.getArmedLoad())}},{key:"getLoadName",value:function(e){return["light","medium","heavy","lift","drag","overloaded"][this.getLoadLevels().findIndex((function(t){return e<=t}))]}},{key:"getLoadLevels",value:function(){var e=Math.floor(function e(t){return t<11?10*t:t>14?2*e(t-5):[115,130,150,175][t-11]}(this.getAbilityTotal("STR"))*function e(t,a){return 2===a?t<0?2*-t:0===t?1:1===t?.75:1/t:4===a?t<1?3*e(t,2)/2:1===t?1:2===t?.75:2*e(t,2):void 0}(this.getValue(["stat","size"]),this.getState(["stat","legs"],2)));return[Math.floor(1/3*e),Math.floor(2/3*e),e,2*e,5*e,1/0]}},{key:"getArmedSpeed",value:function(){return b.min(this.getValue("armor."+this.getState("armor.type","Light").toLowerCase()+".base-speed"),this.getValue("load."+this.getLoadName(this.getArmedLoad())+".base-speed"))}},{key:"getCurrentSpeed",value:function(){return b.min(this.getArmedSpeed(),this.getValue("load."+this.getCurrentLoadName()+".base-speed"))}},{key:"getOverlandSpeed",value:function(){return b.parse(this.getCurrentSpeed()).base/10}},{key:"getArmedSkillCheckPenalty",value:function(){return Math.max(this.getState(["armor","skill-penalty"],0)+this.getState(["shield","skill-penalty"],0),this.getValue("load."+this.getArmedLoadName()+".skill-penalty",NaN))}},{key:"getCurrentSkillCheckPenalty",value:function(){return Math.max(this.getArmedSkillCheckPenalty(),this.getValue("load."+this.getCurrentLoadName()+".skill-penalty",NaN))}},{key:"render",value:function(){return d.a.createElement(g.e,null,d.a.createElement(ie,Object.assign({},this.fn,this.state)),d.a.createElement(g.h,{fluid:!0},d.a.createElement(x,Object.assign({},this.fn,this.state)),d.a.createElement(g.n,null,d.a.createElement(g.c,{md:5},d.a.createElement(g.n,null,d.a.createElement(g.c,{xs:8,sm:9},d.a.createElement(A,Object.assign({},this.fn,this.state))),d.a.createElement(w,Object.assign({className:"note-col"},this.fn,this.state,{sm:3,xs:4})),d.a.createElement(g.c,{xs:4,sm:3,className:"note-col"},d.a.createElement(D,Object.assign({},this.fn,{noteKey:"ability",val:this.getState("note.ability")}))))),d.a.createElement(g.c,{md:7},d.a.createElement(I,Object.assign({},this.fn,this.state)))),d.a.createElement(g.n,null,d.a.createElement(g.c,{md:7},d.a.createElement(g.n,null,d.a.createElement(g.c,{xs:7},d.a.createElement(z,Object.assign({},this.fn,this.state)),d.a.createElement(W,Object.assign({},this.fn,this.state))),d.a.createElement(g.c,{xs:5},d.a.createElement(P,Object.assign({},this.fn,this.state)))),d.a.createElement(H,Object.assign({},this.fn,this.state)),d.a.createElement(g.n,null,d.a.createElement(g.c,{xs:8},d.a.createElement(V,Object.assign({},this.fn,this.state))),d.a.createElement(g.c,{xs:4,className:"note-col"},d.a.createElement(D,Object.assign({},this.fn,{noteKey:"save",val:this.getState("note.save")})))),d.a.createElement(g.n,null,d.a.createElement(g.c,{xs:8},d.a.createElement(X,Object.assign({},this.fn,this.state))),d.a.createElement(g.c,{xs:4,className:"note-col"},d.a.createElement(D,Object.assign({},this.fn,{noteKey:"attack",val:this.getState("note.attack")})))),d.a.createElement(F,this.fn)),d.a.createElement(g.c,{md:5},d.a.createElement($,Object.assign({},this.fn,this.state))),d.a.createElement(g.c,{xs:12},d.a.createElement(q,Object.assign({},this.fn,this.state)))),d.a.createElement(le,Object.assign({},this.fn,this.state)),d.a.createElement(g.n,null,d.a.createElement(g.c,{sm:12,md:6,className:"note-col"},d.a.createElement(D,Object.assign({},this.fn,{noteKey:"feat",val:this.getState("note.feat")}))),d.a.createElement(g.c,{sm:12,md:6,className:"note-col"},d.a.createElement(D,Object.assign({},this.fn,{noteKey:"character",val:this.getState("note.character")})))),d.a.createElement(g.n,null,d.a.createElement(g.c,{sm:12,md:6,className:"note-col"},d.a.createElement(D,Object.assign({},this.fn,{noteKey:"special",val:this.getState("note.special")}))),d.a.createElement(g.c,{sm:12,md:6,className:"note-col"},d.a.createElement(D,Object.assign({},this.fn,{noteKey:"equipment",val:this.getState("note.equipment")})))),d.a.createElement(te,Object.assign({},this.fn,this.state)),d.a.createElement(g.n,null,d.a.createElement(g.c,{sm:7},d.a.createElement(B,Object.assign({},this.fn,this.state)),d.a.createElement(D,Object.assign({},this.fn,this.state,{placeholder:"Speed and load notes",onerow:!0,propKey:["load","note"],val:this.getState("load.note")}))),d.a.createElement(g.c,{sm:5},d.a.createElement(oe,Object.assign({},this.fn,this.state)))),d.a.createElement(ne,Object.assign({},this.fn,this.state))))}}]),t}(u.Component);function C(e){return d.a.createElement(g.c,{bsClass:"col",xs:e.xs||Math.min(2*e.sm,12),sm:e.sm},d.a.createElement(g.g,{validationState:e.validationState},d.a.createElement(g.d,null,d.a.createElement("small",null,e.label)),d.a.createElement(g.f.Static,null,e.children)))}function k(e){var t=e.label||e.propKey[e.propKey.length-1];return d.a.createElement(g.c,{bsClass:"col",xs:e.xs||Math.min(2*e.sm,12),sm:e.sm},d.a.createElement(g.g,{validationState:e.validationState,controlId:e.propKey.join("-")},d.a.createElement(g.d,{className:"text-capitalize"},d.a.createElement("small",null,t)),d.a.createElement(g.f,{type:"text",value:e.getState(e.propKey,""),onChange:e.handleChange(e.propKey)})))}function w(e){var t=[8,4,2,1,0,-1,-2,-4,-8],a=["Fine","Diminutive","Tiny","Small","Medium","Large","Huge","Gargantuan","Colossal"].map((function(e,a){return d.a.createElement("option",{key:e,value:t[a]},e+": "+t[a])})),l=["stat","size"];return d.a.createElement(g.c,Object.assign({},e,{bsClass:"col",xs:e.xs||Math.min(2*e.sm,12)}),d.a.createElement(g.g,{controlId:l.join("-"),bsSize:"sm"},d.a.createElement(g.d,null,d.a.createElement("small",null,"Size")),d.a.createElement(g.f,{componentClass:"select",value:e.getValue(l),onChange:e.handleChange(l)},a)))}var x=Object(h.a)(Object(h.b)(["info","stat"]),h.c)((function(e){return d.a.createElement("div",null,d.a.createElement(g.n,null,d.a.createElement(k,Object.assign({},e,{propKey:["info","character"],xs:7,sm:6})),d.a.createElement(k,Object.assign({},e,{propKey:["info","player"],xs:3,sm:4})),d.a.createElement(C,{label:"Minify",xs:2,sm:2},d.a.createElement(g.a,{bsSize:"sm",bsStyle:"info",target:"_blank",href:"javascript:void(location.href='http://tinyurl.com/create.php?url='+encodeURIComponent(location.href))"},"tinyurl"))),d.a.createElement(g.n,null,d.a.createElement(k,Object.assign({},e,{propKey:["info","race"],sm:2})),d.a.createElement(k,Object.assign({},e,{propKey:["info","gender"],sm:1})),d.a.createElement(k,Object.assign({},e,{propKey:["info","height"],xs:3,sm:1})),d.a.createElement(k,Object.assign({},e,{propKey:["info","weight"],xs:3,sm:1})),d.a.createElement(k,Object.assign({},e,{propKey:["info","hair"],sm:2})),d.a.createElement(k,Object.assign({},e,{propKey:["info","eyes"],sm:2})),d.a.createElement(k,Object.assign({},e,{propKey:["info","skin"],sm:2})),d.a.createElement(k,Object.assign({},e,{propKey:["info","age"],sm:1})),d.a.createElement(k,Object.assign({},e,{propKey:["info","alignment"],sm:2})),d.a.createElement(k,Object.assign({},e,{propKey:["info","deity"],sm:3})),d.a.createElement(k,Object.assign({},e,{propKey:["info","homeland and occupation"],sm:7})),d.a.createElement(k,Object.assign({},e,{propKey:["info","languages"],sm:12}))))}));function T(e){var t=e.ability,a=e.getState(["rage","enable"],!1),l=a?ee(e)[t]:0,n=f.map((function(a){return d.a.createElement("td",{key:a},d.a.createElement(L,Object.assign({},e,{propKey:["stat",t,a]})))})).concat(d.a.createElement("td",{key:"rage",className:a?"":"hidden"},l||""));return d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},t),d.a.createElement("td",null,e.getAbilityTotal(t)),d.a.createElement("th",{className:"success"},e.getAbilityMod(t)),n)}var A=Object(h.a)(Object(h.b)(["stat","rage"]),h.c)((function(e){var t=e.getState(["rage","enable"],!1);return d.a.createElement(g.o,{condensed:!0,className:"ability-table"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,d.a.createElement("small",null,"Ability")),d.a.createElement("th",null,d.a.createElement("small",null,"Total")),d.a.createElement("th",null,d.a.createElement("small",null,"Mod")),d.a.createElement("th",{className:"ability-base"},d.a.createElement("small",null,"Base")),d.a.createElement("th",null,d.a.createElement("small",null,"Enh",d.a.createElement("span",{className:"hidden-xs hidden-md"},"ance"))),d.a.createElement("th",null,d.a.createElement("small",null,"Misc")),d.a.createElement("th",null,d.a.createElement("small",null,"Temp")),d.a.createElement("th",{className:t?"":"hidden"},d.a.createElement("small",null,"Rage")))),d.a.createElement("tbody",null,d.a.createElement(T,Object.assign({},e,{ability:"STR"})),d.a.createElement(T,Object.assign({},e,{ability:"DEX"})),d.a.createElement(T,Object.assign({},e,{ability:"CON"})),d.a.createElement(T,Object.assign({},e,{ability:"INT"})),d.a.createElement(T,Object.assign({},e,{ability:"WIS"})),d.a.createElement(T,Object.assign({},e,{ability:"CHA"}))))}));function L(e){var t=e.placeholder||e.getDefault(e.propKey);return d.a.createElement(g.f,{type:"text",id:e.propKey.join("-"),value:e.getState(e.propKey,""),onChange:e.handleChange(e.propKey),placeholder:t,className:e.className||""})}var D=Object(h.c)((function(e){var t=e.noteKey&&e.noteKey+"-note"||e.propKey.join("-"),a=e.propKey||["note",e.noteKey],l=e.noteKey||e.propKey[e.propKey.length-1],n=[e.className,"autoresize",a.join("-"),e.onerow?"onerow":""].join(" ");return d.a.createElement(g.g,{controlId:t},d.a.createElement(g.f,{componentClass:"textarea",inputRef:pe,className:n,value:e.getState(a,""),onChange:e.handleChange(a),placeholder:e.placeholder||l+" notes"}))}));function M(e){return d.a.createElement("span",null,d.a.createElement("abbr",{className:"hidden-print",title:e.title},e.children),d.a.createElement("span",{className:"visible-print-block"},e.children))}var R=Object(h.c)((function(e){var t=e.name,a=O.map((function(a){return d.a.createElement("td",{key:a},d.a.createElement(L,Object.assign({},e,{propKey:[t,a]})))}));return d.a.createElement("tr",null,a)}));var I=Object(h.a)(Object(h.b)([].concat(v)),h.c)((function(e){var t=v.map((function(t,a){return a>0&&de(e.getState(["class"+a]))&&de(e.getState(["class"+(a+1)]))?null:d.a.createElement(R,Object.assign({key:t},e,{name:t,val:e[t]}))}));return d.a.createElement(g.o,{condensed:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"class-name"},d.a.createElement("small",null,"Classname")),d.a.createElement("th",null,d.a.createElement("small",null,"HD")),d.a.createElement("th",{className:"min-width-3-digits"},d.a.createElement("small",null,"HP")),d.a.createElement("th",{className:"min-width-3-digits"},d.a.createElement("small",null,"Skill")),d.a.createElement("th",null,d.a.createElement("small",null,"BAB")),d.a.createElement("th",null,d.a.createElement("small",null,"FORT")),d.a.createElement("th",null,d.a.createElement("small",null,"REF")),d.a.createElement("th",null,d.a.createElement("small",null,"WILL")),d.a.createElement("th",null,d.a.createElement("small",null,"Levels")))),d.a.createElement("tbody",null,t,d.a.createElement("tr",null,d.a.createElement("th",null,"Base totals"),d.a.createElement("td",null),d.a.createElement("td",null,e.getClassTypeTotal("hp")),d.a.createElement("td",null,e.getClassTypeTotal("skill")),d.a.createElement("td",null,e.getClassTypeTotal("bab")),d.a.createElement("td",null,e.getClassTypeTotal("fort")),d.a.createElement("td",null,e.getClassTypeTotal("refl")),d.a.createElement("td",null,e.getClassTypeTotal("will")),d.a.createElement("td",null,e.getClassTypeTotal("levels")))))}));var P=Object(h.a)(Object(h.b)(["hp","stat"].concat(v,["rage"])),h.c)((function(e){var t=e.getAbilityMod("CON")*e.getClassTypeTotal("levels")+e.getClassTypeTotal("hp");return d.a.createElement(g.o,{condensed:!0,className:"hp-table"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},d.a.createElement("small",null,"HP (con*lvl+cls)")),d.a.createElement("td",null,t))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"active hp-temporary"},"Temporary HP"),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["hp","temp"]})))),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Subdual dam"),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["hp","subdual"]})))),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Lethal dam"),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["hp","lethal"]})))),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Current HP"),d.a.createElement("td",{className:"success"},t+e.getState(["hp","temp"],0)-e.getState(["hp","subdual"],0)-e.getState(["hp","lethal"],0)))))}));var z=Object(h.a)(Object(h.b)(["init","stat"]),h.c)((function(e){var t=e.getAbilityMod("DEX")+e.getState(["init","enh"],0)+e.getState(["init","misc"],0)+e.getState(["init","temp"],0);return d.a.createElement(g.o,{condensed:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null),d.a.createElement("th",null,d.a.createElement("small",null,"Total")),d.a.createElement("th",null,d.a.createElement("small",null,"Base")),d.a.createElement("th",null,d.a.createElement("small",null,"Enhance")),d.a.createElement("th",null,d.a.createElement("small",null,"Misc")),d.a.createElement("th",null,d.a.createElement("small",null,"Temp")))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Init"),d.a.createElement("th",{className:"success"},t),d.a.createElement("td",null,e.getAbilityMod("DEX")),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["init","enh"]}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["init","misc"]}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["init","temp"]}))))))}));var W=Object(h.a)(Object(h.b)(["info"]),h.c)((function(e){return d.a.createElement(g.o,{condensed:!0},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"DR"),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["info","dr"]}))),d.a.createElement("th",{className:"active"},"SR"),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["info","sr"]})))),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Resists"),d.a.createElement("td",{colSpan:"3"},d.a.createElement(L,Object.assign({},e,{propKey:["info","resists"]}))))))}));function B(e){return d.a.createElement("div",null,d.a.createElement(g.o,{condensed:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Speed"),d.a.createElement("th",null,d.a.createElement("small",null,"combat equipped")),d.a.createElement("th",null,d.a.createElement("small",null,"all equipment")),d.a.createElement("th",null,d.a.createElement("small",null,"Overland mph")),d.a.createElement("th",null,d.a.createElement("small",null,"Misc note")),d.a.createElement("th",null,d.a.createElement("small",null,"Temp note")))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Land"),d.a.createElement("td",{className:"success"},e.getArmedSpeed()),d.a.createElement("td",{className:"info"},e.getCurrentSpeed()),d.a.createElement("td",null,e.getOverlandSpeed()),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["speed","misc"]}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["speed","temp"]})))))),d.a.createElement(g.o,{condensed:!0},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},d.a.createElement("small",null,"Swim")),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["speed","swim"]}))),d.a.createElement("th",{className:"active"},d.a.createElement("small",null,"Climb")),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["speed","climb"]}))),d.a.createElement("th",{className:"active"},d.a.createElement("small",null,"Fly")),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["speed","fly"]}))),d.a.createElement("th",{className:"active"},d.a.createElement("small",null,"Burrow")),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["speed","burrow"]})))))))}var H=Object(h.a)(Object(h.b)(["stat","armor","shield","ac","rage"]),h.c)((function(e){var t=e.getState(["rage","enable"],!1),a=t?ee(e).ac:0,l=Math.min(0,e.getArmorLimitedDex());return d.a.createElement(g.o,{condensed:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,d.a.createElement("small",null,"Defence")),d.a.createElement("th",null,d.a.createElement("small",null,"Total")),d.a.createElement("th",{className:"hidden-xs"}),d.a.createElement("th",null,d.a.createElement("small",null,"Armor")),d.a.createElement("th",null,d.a.createElement("small",null,"Shield")),d.a.createElement("th",null,d.a.createElement("small",null,"Dex")),d.a.createElement("th",null,d.a.createElement("small",null,"Size")),d.a.createElement("th",null,d.a.createElement("small",null,"Dodge")),d.a.createElement("th",null,d.a.createElement("small",null,"Natural")),d.a.createElement("th",null,d.a.createElement("small",null,"Deflect")),d.a.createElement("th",null,d.a.createElement("small",null,"Misc")),d.a.createElement("th",null,d.a.createElement("small",null,"Temp")),d.a.createElement("th",{className:t?"":"hidden"},d.a.createElement("small",null,"Rage")))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"AC"),d.a.createElement("th",{className:"success"},10+e.getState(["armor","ac"],0)+e.getState(["shield","ac"],0)+e.getArmorLimitedDex()+e.getState(["stat","size"],0)+e.getState(["ac","dodge"],0)+e.getState(["ac","natural"],0)+e.getState(["ac","deflect"],0)+e.getState(["ac","ac-misc"],0)+e.getState(["ac","temp"],0)+a),d.a.createElement("td",{className:"hidden-xs"},d.a.createElement("small",null,"10+")),d.a.createElement("td",null,e.getState(["armor","ac"],"")),d.a.createElement("td",null,e.getState(["shield","ac"],"")),d.a.createElement("td",null,e.getArmorLimitedDex()),d.a.createElement("td",null,e.getState(["stat","size"],"")),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["ac","dodge"]}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["ac","natural"]}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["ac","deflect"]}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["ac","ac-misc"]}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["ac","temp"]}))),d.a.createElement("td",{className:t?"":"hidden"},d.a.createElement("small",null,a))),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Touch"),d.a.createElement("th",{className:"success"},10+e.getArmorLimitedDex()+e.getState(["stat","size"],0)+e.getState(["ac","dodge"],0)+e.getState(["ac","deflect"],0)+e.getState(["ac","touch-misc"],0)+e.getState(["ac","temp"],0)+a),d.a.createElement("td",{className:"hidden-xs"},d.a.createElement("small",null,"10+")),d.a.createElement("td",null,"-"),d.a.createElement("td",null,"-"),d.a.createElement("td",null,e.getArmorLimitedDex()),d.a.createElement("td",null,e.getState(["stat","size"],"")),d.a.createElement("td",null,e.getState(["ac","dodge"],"")),d.a.createElement("td",null,"-"),d.a.createElement("td",null,e.getState(["ac","deflect"],"")),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["ac","touch-misc"]}))),d.a.createElement("td",null,e.getState(["ac","temp"],"")),d.a.createElement("td",{className:t?"":"hidden"},d.a.createElement("small",null,a))),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Flat-foot"),d.a.createElement("th",{className:"success"},10+e.getState(["armor","ac"],0)+e.getState(["shield","ac"],0)+e.getState(["stat","size"],0)+e.getState(["ac","natural"],0)+e.getState(["ac","deflect"],0)+e.getState(["ac","ff-misc"],0)+e.getState(["ac","temp"],0)+l+a),d.a.createElement("td",{className:"hidden-xs"},d.a.createElement("small",null,"10+")),d.a.createElement("td",null,e.getState(["armor","ac"],"")),d.a.createElement("td",null,e.getState(["shield","ac"],"")),d.a.createElement("td",null,l),d.a.createElement("td",null,e.getState(["stat","size"],"")),d.a.createElement("td",null,"-"),d.a.createElement("td",null,e.getState(["ac","natural"],"")),d.a.createElement("td",null,e.getState(["ac","deflect"],"")),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["ac","ff-misc"]}))),d.a.createElement("td",null,e.getState(["ac","temp"],"")),d.a.createElement("td",{className:t?"":"hidden"},d.a.createElement("small",null,a)))))}));function U(e){var t=e.getState(["rage","enable"],!1),a=t&&ee(e)[e.save]||0;return d.a.createElement("tr",null,d.a.createElement("th",{className:"active line-height-1"},e.save.toUpperCase(),d.a.createElement("small",null," (",e.ability,")")),d.a.createElement("th",{className:"success"},e.getClassTypeTotal(e.save)+e.getAbilityMod(e.ability)+e.getState([e.save,"enhance"],0)+e.getState([e.save,"misc"],0)+e.getState([e.save,"temp"],0)+a),d.a.createElement("td",null,e.getClassTypeTotal(e.save)),d.a.createElement("td",null,e.getAbilityMod(e.ability)),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:[e.save,"enhance"]}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:[e.save,"misc"]}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:[e.save,"temp"]}))),d.a.createElement("td",{className:t?"":"hidden"},d.a.createElement("small",null,a||"")))}var V=Object(h.a)(Object(h.b)([].concat(["fort","refl","will"],["stat"],v,["rage"])),h.c)((function(e){var t=e.getState(["rage","enable"],!1);return d.a.createElement(g.o,{condensed:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"save-name"},d.a.createElement("small",null,"Save")),d.a.createElement("th",null,d.a.createElement("small",null,"Total")),d.a.createElement("th",null,d.a.createElement("small",null,d.a.createElement("span",{className:"hidden-xs"},"Class "),"base")),d.a.createElement("th",null,d.a.createElement("small",null,"Abil",d.a.createElement("span",{className:"hidden-xs"},"ity"))),d.a.createElement("th",null,d.a.createElement("small",null,"Enh",d.a.createElement("span",{className:"hidden-xs"},"ance"))),d.a.createElement("th",null,d.a.createElement("small",null,"Misc")),d.a.createElement("th",null,d.a.createElement("small",null,"Temp")),d.a.createElement("th",{className:t?"":"hidden"},d.a.createElement("small",null,"Rage")))),d.a.createElement("tbody",null,d.a.createElement(U,Object.assign({},e,{save:"fort",ability:"CON"})),d.a.createElement(U,Object.assign({},e,{save:"refl",ability:"DEX"})),d.a.createElement(U,Object.assign({},e,{save:"will",ability:"WIS"}))))}));var X=Object(h.a)(Object(h.b)([].concat(v,["stat","rage","melee","ranged","cmb","cmd"])),h.c)((function(e){var t=e.getAbilityMod("STR"),a=e.getAbilityMod("DEX"),l=e.getState(["stat","size"],0),n=l<2?t:a,c=[{name:"melee",ability:t,size:l},{name:"ranged",ability:a,size:l}].map((function(t){return d.a.createElement("tr",{key:t.name},d.a.createElement("th",{className:"active"},t.name.toUpperCase()),d.a.createElement("th",{className:"success"},e.getClassTypeTotal("bab")+t.ability+t.size+e.getState([t.name,"misc"],0)+e.getState([t.name,"temp"],0)),d.a.createElement("td",{className:"hidden-xs"}),d.a.createElement("td",null,e.getClassTypeTotal("bab")),d.a.createElement("td",null,t.ability),d.a.createElement("td",null,t.size),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:[t.name,"misc"]}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:[t.name,"temp"]}))))}));return d.a.createElement(g.o,{condensed:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"attack-name"},d.a.createElement("small",null,"Attack")),d.a.createElement("th",null,d.a.createElement("small",null,"Total")),d.a.createElement("th",{className:"hidden-xs"}),d.a.createElement("th",null,d.a.createElement("small",null,"BAB")),d.a.createElement("th",null,d.a.createElement("small",null,"Abil",d.a.createElement("span",{className:"hidden-xs"},"ity"))),d.a.createElement("th",null,d.a.createElement("small",null,"Size")),d.a.createElement("th",null,d.a.createElement("small",null,"Misc")),d.a.createElement("th",null,d.a.createElement("small",null,"Temp")))),d.a.createElement("tbody",null,c,d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"CMB"),d.a.createElement("th",{className:"success"},e.getClassTypeTotal("bab")+n-l+e.getState(["cmb","misc"],0)+e.getState(["cmb","temp"],0)),d.a.createElement("td",{className:"hidden-xs"}),d.a.createElement("td",null,e.getClassTypeTotal("bab")),d.a.createElement("td",null,d.a.createElement(M,{title:"STR for small and larger, DEX for tiny and smaller. Use the misc modifier to adjust for the Agile Maneuvers feat."},n)),d.a.createElement("td",null,d.a.createElement(M,{title:"*special* size modifier"},-l)),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["cmb","misc"]}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["cmb","temp"]})))),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"CMD"),d.a.createElement("th",{className:"success"},10+e.getClassTypeTotal("bab")+t+a+e.getState(["ac","dodge"],0)+e.getState(["ac","deflect"],0)-l+e.getState(["cmd","misc"],0)+e.getState(["cmd","temp"],0)),d.a.createElement("td",{className:"hidden-xs"},d.a.createElement("small",null,"10+")),d.a.createElement("td",null,e.getClassTypeTotal("bab")),d.a.createElement("td",null,d.a.createElement(M,{title:"STR+DEX+dodge+deflect"},t+a+e.getState(["ac","dodge"],0)+e.getState(["ac","deflect"],0))),d.a.createElement("td",null,d.a.createElement(M,{title:"*special* size modifier"},-l)),d.a.createElement("td",null,d.a.createElement(M,{title:"Add here any insight, luck, morale, profane, and sacred bonuses to AC"},d.a.createElement(L,Object.assign({},e,{propKey:["cmd","misc"]})))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["cmd","temp"]}))))))}));function F(e){var t=["ac","max-dex","skill-penalty","spell-fail","weight"],a=t.map((function(t){return d.a.createElement("td",{key:t},d.a.createElement(L,Object.assign({},e,{propKey:["armor",t]})))})),l=t.map((function(t){return d.a.createElement("td",{key:t},d.a.createElement(L,Object.assign({},e,{propKey:["shield",t]})))}));return d.a.createElement(g.o,{condensed:!0,className:"armor-table"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null),d.a.createElement("th",{className:"armor-name"},d.a.createElement("small",null,"Armor name & description")),d.a.createElement("th",null,d.a.createElement("small",null,"AC Bonus")),d.a.createElement("th",null,d.a.createElement("small",null,"Max Dex")),d.a.createElement("th",null,d.a.createElement("small",null,"Check penalty")),d.a.createElement("th",null,d.a.createElement("small",null,"Spell fail")),d.a.createElement("th",null,d.a.createElement("small",null,"Weight")),d.a.createElement("th",null,d.a.createElement("small",null,"Type")))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},d.a.createElement("small",null,"Armor")),d.a.createElement("td",null,d.a.createElement(D,Object.assign({},e,{propKey:["armor","desc"],placeholder:"armor note",onerow:!0}))),a,d.a.createElement("td",null,d.a.createElement(J,Object.assign({},e,{propKey:["armor","type"],options:N,className:"appearance-none"})))),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},d.a.createElement("small",null,"Shield")),d.a.createElement("td",null,d.a.createElement(D,Object.assign({},e,{propKey:["shield","desc"],placeholder:"shield note",onerow:!0}))),l)))}var q=Object(h.a)(Object(h.b)(S),h.c)((function(e){for(var t=["bonus","dmg","crit","range","type","weight"],a=[],n=0;n<20&&!(n>0&&de(e.getState(["weapon"+(n-1)])));n++){var c=t.map((function(t){return d.a.createElement("td",{key:t},d.a.createElement(L,Object.assign({},e,{propKey:["weapon"+n,t]})))})),r=d.a.createElement("tr",{key:n},d.a.createElement("td",null,d.a.createElement(D,Object.assign({},e,{propKey:["weapon"+n,"desc"],placeholder:"name",onerow:!0}))),c,d.a.createElement("td",null,d.a.createElement(D,Object.assign({},e,{propKey:["weapon"+n,"note"],placeholder:"notes",onerow:!0}))));a=[].concat(Object(l.a)(a),[r])}return d.a.createElement(g.o,{condensed:!0,className:"weapon-table"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"weapon-name"},d.a.createElement("small",null,"Weapon name & description")),d.a.createElement("th",{className:"weapon-bonus"},d.a.createElement("small",null,"Attack bonus")),d.a.createElement("th",{className:"weapon-damage"},d.a.createElement("small",null,"Damage")),d.a.createElement("th",{className:"weapon-critical"},d.a.createElement("small",null,"Critical")),d.a.createElement("th",{className:"weapon-range"},d.a.createElement("small",null,"Range")),d.a.createElement("th",{className:"weapon-type"},d.a.createElement("small",null,"Type")),d.a.createElement("th",{className:"weapon-weight"},d.a.createElement("small",null,"Weight")),d.a.createElement("th",null,d.a.createElement("small",null,"Notes & ammo")))),d.a.createElement("tbody",null,a))}));function _(e){var t=e.propKey,a=e.inline;return d.a.createElement(g.g,{controlId:t.join("-")},d.a.createElement(g.b,{inline:a,checked:e.getState(t),onChange:e.handleChange(t)},e.children))}function J(e){var t=e.propKey,a=e.className,l=e.options,n=e.getState(t),c=l.indexOf(n)>-1?"":d.a.createElement("option",null),r=l.map((function(e,t){return d.a.createElement("option",{key:e,value:e},e)}));return d.a.createElement(g.g,{controlId:t.join("-"),bsSize:e.bsSize||"sm"},d.a.createElement(g.f,{componentClass:"select",className:a,placeholder:e.getState(t),value:e.getState(t),onChange:e.handleChange(t)},c,r))}var G=["STR","DEX"];function Q(e){var t=e.propKey,a=[].concat(Object(l.a)(t),["ability"]),n=e.getState(a),c=G.indexOf(n)>-1,r=d.a.createElement("span",null,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["categ"])})),c?"*":""),s=d.a.createElement(J,Object.assign({},e,{propKey:a,options:y})),m=de(e.getState([].concat(Object(l.a)(t),["categ"]),{}));return d.a.createElement(Z,Object.assign({},e,{nameField:r,ability:n,abilityField:s,hasAcPenalty:c,empty:m}))}function Y(e){var t=e.propKey,a=e.name,n=e.ability,c=e.hasCategory,r=G.indexOf(n)>-1,s=a+(c?": ":""),m=c?d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["categ"])})):"",i=d.a.createElement("span",null,s,m);return d.a.createElement(Z,Object.assign({},e,{nameField:i,ability:n,abilityField:n,hasAcPenalty:r}))}function Z(e){var t=e.propKey,a=e.nameField,n=e.ability,c=e.abilityField,r=e.hasAcPenalty,s=e.isUntrainedUse,m=e.empty,i=e.getState([].concat(Object(l.a)(t),["ranks"])),o=e.getState([].concat(Object(l.a)(t),["is-class"]));return d.a.createElement("tr",null,d.a.createElement("td",{className:"skill-name"},d.a.createElement(_,Object.assign({},e,{inline:!0,propKey:[].concat(Object(l.a)(t),["is-class"])}),d.a.createElement("small",null,a))),d.a.createElement("td",{className:"skill-ability"},d.a.createElement("small",null,m?"":c)),d.a.createElement("th",{className:"success"},d.a.createElement("small",null,s||void 0!==i?e.getState([].concat(Object(l.a)(t),["ranks"]),0)+e.getAbilityMod(n)+(i>0&&o?3:0)+e.getState([].concat(Object(l.a)(t),["misc"]),0)+e.getState([].concat(Object(l.a)(t),["temp"]),0)-(r?e.getCurrentSkillCheckPenalty():0)+(r?"*":""):"")),d.a.createElement("td",null,d.a.createElement("small",null,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["ranks"])})))),d.a.createElement("td",null,d.a.createElement("small",null,m?"":e.getAbilityMod(n))),d.a.createElement("td",null,d.a.createElement("small",null,i>0&&o?3:0)),d.a.createElement("td",null,d.a.createElement("small",null,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["misc"])})))),d.a.createElement("td",null,d.a.createElement("small",null,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["temp"])})))))}var $=Object(h.a)(Object(h.b)(["skill","stat","armor","shield"].concat(v,["load","eq"],S)),h.c)((function(e){for(var t=["DEX","INT","CHA","STR","INT","CHA","DEX","CHA","DEX","DEX","CHA","WIS","CHA","INT","INT","WIS","CHA","WIS","DEX","WIS","DEX","INT","DEX","WIS","STR","CHA",""],a=["Skill","Acrobatics","Appraise","Bluff","Climb","Craft","Diplomacy","Disguise","Escape Artist","Fly","Heal","Intimidate","Perception","Perf","Ride","Sense Motive","Stealth","Survival","Swim"],l=["Craft","Kn","Perf","Prof"],n=["Acrobatics","Appraise","Bluff","Climb","Craft","Diplomacy","Disable Device","Disguise","Escape Artist","Fly","Handle Animal","Heal","Intimidate","Kn","Linguistics","Perception","Perf","Prof","Ride","Sense Motive","Sleight of Hand","Spellcraft","Stealth","Survival","Swim","Use Magic Device"].reduce((function(n,c,r){var s=l.indexOf(c)>-1,m=a.indexOf(c)>-1;if(!s)return n=n.concat(d.a.createElement(Y,Object.assign({key:c},e,{name:c,propKey:["skill",c.toLowerCase()],isUntrainedUse:m,ability:t[r],hasCategory:s})));for(var i=0;i<10;i++){var o=["skill",c.toLowerCase()+i],u=["skill",c.toLowerCase()+(i-1)];i>0&&de(e.getState(u,{}))&&de(e.getState(o,{}))||(n=n.concat(d.a.createElement(Y,Object.assign({key:c+"i"+i},e,{name:c,propKey:o,isUntrainedUse:m,ability:t[r],hasCategory:s}))))}return n}),[]),c=[],r=0;r<10;r++){var s=["skill","custom"+r],m=["skill","custom"+(r-1)];r>0&&de(e.getState([].concat(m,["categ"]),{}))&&de(e.getState(s,{}))||(c=c.concat(d.a.createElement(Q,Object.assign({key:s},e,{propKey:s}))))}var i=e.getClassTypeTotal("skill"),o=e.skill&&Object.keys(e.skill).reduce((function(t,a){return t+e.getState(["skill",a,"ranks"],0)}),0),u=" (unused ranks "+(i-o)+")";return d.a.createElement(g.o,{striped:!0,condensed:!0,className:"skill-table"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"skill-name",colSpan:2},d.a.createElement("small",null,"Skill",u)),d.a.createElement("th",null,d.a.createElement("small",null,"Total")),d.a.createElement("th",null,d.a.createElement("small",null,"Ranks")),d.a.createElement("th",null,d.a.createElement("small",null,"Abil")),d.a.createElement("th",null,d.a.createElement("small",null,"Trn.")),d.a.createElement("th",null,d.a.createElement("small",null,"Misc")),d.a.createElement("th",null,d.a.createElement("small",null,"Temp")))),d.a.createElement("tbody",null,n,c),d.a.createElement("tfoot",{className:"small"},d.a.createElement("tr",null,d.a.createElement("td",{colSpan:8},"*: denotes that current skill check penalty is applied:",e.getCurrentSkillCheckPenalty(),d.a.createElement("br",null),"(using a move action to drop your equipment would change it to:",e.getArmedSkillCheckPenalty(),")"))))}));function ee(e){var t=e.getState(["rage","level"]);return t>19?{header:"Mighty Rage",STR:8,CON:8,will:4,ac:-2}:t>10?{header:"Greater Rage",STR:6,CON:6,will:3,ac:-2}:{header:"Rage",STR:4,CON:4,will:2,ac:-2}}function te(e){for(var t=[],a=0;a<50;a++){var l=["eq",""+a],n=["eq",""+(a-1)];a>0&&de(e.getState(n,{}))&&de(e.getState(l,{}))||(t=t.concat(d.a.createElement(ae,Object.assign({key:a},e,{propKey:l}))))}return d.a.createElement(g.o,{condensed:!0,className:"equipment-table"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"equipment-name"},d.a.createElement("small",null,"Equipment name & description")),d.a.createElement("th",null,d.a.createElement("small",null,"Value")),d.a.createElement("th",null,d.a.createElement("small",null,"Weight")))),d.a.createElement("tbody",null,t))}function ae(e){var t=e.propKey;return d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("small",null,d.a.createElement(D,Object.assign({},e,{placeholder:"name note",propKey:[].concat(Object(l.a)(t),["name"]),onerow:!0})))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["value"])}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["weight"])}))))}var le=Object(h.a)(Object(h.b)(["rage","stat","note"]),h.c)((function(e){if(!e.getState(["rage"]))return d.a.createElement("span",null);var t=2+2*e.getState(["rage","level"])+e.getAbilityMod("CON",!0)+e.getState(["rage","rounds","misc"],0)-e.getState(["rage","rounds","used"],0),a=ee(e),l=d.a.createElement(_,Object.assign({},e,{inline:!0,propKey:["rage","enable"]}),a.header),n=e.getState(["rage","enable"],!1)?"success":"";return d.a.createElement(g.m,{header:l},d.a.createElement(g.n,null,d.a.createElement(g.c,{sm:8},d.a.createElement(g.n,null,d.a.createElement(k,Object.assign({},e,{label:"Class levels",propKey:["rage","level"],xs:3})),d.a.createElement(k,Object.assign({},e,{label:"Misc rounds",propKey:["rage","rounds","misc"],xs:3})),d.a.createElement(k,Object.assign({},e,{label:"Used rounds",validationState:"warning",propKey:["rage","rounds","used"],xs:3})),d.a.createElement(C,{label:"Rounds of rage left",validationState:"success",xs:3},t)),d.a.createElement(g.n,null,d.a.createElement(C,{label:"STR bonus",validationState:n,xs:3},a.STR),d.a.createElement(C,{label:"CON bonus",validationState:n,xs:3},a.CON),d.a.createElement(C,{label:"Will bonus",validationState:n,xs:3},a.will),d.a.createElement(C,{label:"AC penalty",validationState:n,xs:3},a.ac))),d.a.createElement(g.c,{sm:4},d.a.createElement(D,Object.assign({},e,{noteKey:"rage",val:e.note.rage})))))}));function ne(e){var t=j.map((function(t){return d.a.createElement(me,Object.assign({key:t},e,{propKey:[t]}))}));return d.a.createElement("div",null,t)}function ce(e){var t=e.propKey;return d.a.createElement(g.o,{condensed:!0,className:"spells-header-table"},d.a.createElement("thead",null,d.a.createElement("tr",{className:"middle"},d.a.createElement("td",null,"Spellcaster class:"),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{bsSize:"sm",propKey:[].concat(Object(l.a)(t),["className"])}))),d.a.createElement("td",null,"Level:"),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{bsSize:"sm",propKey:[].concat(Object(l.a)(t),["level"])}))),d.a.createElement("td",null,"Ability:"),d.a.createElement("td",null,d.a.createElement(J,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["ability"]),options:y}))))))}var re=["personal","touch","close","medium","long"];function se(e){var t=e.propKey,a=e.level,c=e.dcPlaceholder;if(void 0===e.getState([].concat(Object(l.a)(t),["name"])))return d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},a),d.a.createElement("th",null),d.a.createElement("th",null),d.a.createElement("th",null),d.a.createElement("th",null),d.a.createElement("th",null),d.a.createElement("td",null,d.a.createElement(D,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["name"]),placeholder:"spell name & description",onerow:!0}))));var r=e.getState([].concat(Object(l.a)(t),["prep"])),s=e.getState([].concat(Object(l.a)(t),["used"]),0),m=Object(n.a)({},e,{placeholder:c}),i={className:r>0?"success":""},o={className:r<s?"danger":"warning"};return d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},a),d.a.createElement("td",null,d.a.createElement(_,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["SR"])}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},m,{propKey:[].concat(Object(l.a)(t),["dc"])}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["save"])}))),d.a.createElement("td",i,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["prep"])}))),d.a.createElement("td",o,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["used"])}))),d.a.createElement("td",null,d.a.createElement(D,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["name"]),placeholder:"spell name & description",onerow:!0}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["school"])}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["duration"])}))),d.a.createElement("td",{className:"spell-range"},d.a.createElement(J,Object.assign({},e,{propKey:[].concat(Object(l.a)(t),["range"]),options:re,className:"appearance-none"}))))}function me(e){var t=e.propKey;if(!e.getState(t))return null;var a=[],c=e.getAbilityMod(e.getState([].concat(Object(l.a)(t),["ability"])),!0),r=[0,1,2,3,4,5,6,7,8,9].map((function(n){if(n>0&&void 0===e.getState([].concat(Object(l.a)(t),["l"+(n-1),"class"])))return"";for(var r=[].concat(Object(l.a)(t),["l"+n]),s=void 0===e.getState([].concat(Object(l.a)(r),["class"]))?"hidden":"",m=0===n?0:c,i=0;i<e.getState([].concat(Object(l.a)(r),["known"]),0);i++)if(!(i>0&&void 0===e.getState([].concat(Object(l.a)(r),[String(i-1)]))&&void 0===e.getState([].concat(Object(l.a)(r),[String(i)])))){var o=[].concat(Object(l.a)(r),[String(i)]);a=[].concat(Object(l.a)(a),[d.a.createElement(se,Object.assign({},e,{dcPlaceholder:e.getState([].concat(Object(l.a)(r),["dc"]),10+n+c),propKey:o,level:n,key:o.join(".")}))])}var u=void 0===e.getState([].concat(Object(l.a)(r),["class"]))?"":m-e.getState([].concat(Object(l.a)(r),["used"]),0)+["class","misc"].reduce((function(t,a){return t+e.getState([].concat(Object(l.a)(r),[a]),0)}),0),E={className:u>0?"success":"text-center"},p={className:void 0===e.getState([].concat(Object(l.a)(r),["class"]))?"":u<0?"danger":"warning"};return d.a.createElement("tr",{key:n},d.a.createElement("th",{className:"active"},n),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{className:s,propKey:[].concat(Object(l.a)(r),["known"])}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{className:s,propKey:[].concat(Object(l.a)(r),["dc"]),placeholder:10+n+c}))),d.a.createElement("th",E,u),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:[].concat(Object(l.a)(r),["class"])}))),d.a.createElement("td",null,s?"":m||""),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{className:s,propKey:[].concat(Object(l.a)(r),["misc"])}))),d.a.createElement("td",p,d.a.createElement(L,Object.assign({},e,{className:s,propKey:[].concat(Object(l.a)(r),["used"])}))))}));return d.a.createElement(g.m,{header:ce(Object(n.a)({},e,{propKey:t}))},d.a.createElement(g.n,null,d.a.createElement(g.c,{sm:6},d.a.createElement(g.o,{condensed:!0,className:"spells-table"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,d.a.createElement("small",null,"Spell Level")),d.a.createElement("th",null,d.a.createElement("small",null,"#Spells known")),d.a.createElement("th",null,d.a.createElement("small",null,"Save DC")),d.a.createElement("th",null,d.a.createElement("small",null,"Spells remaining")),d.a.createElement("th",null,d.a.createElement("small",null,"Class daily #")),d.a.createElement("th",null,d.a.createElement("small",null,"Ability bonus")),d.a.createElement("th",null,d.a.createElement("small",null,"Misc bonus")),d.a.createElement("th",null,d.a.createElement("small",null,"Used")))),d.a.createElement("tbody",null,r))),d.a.createElement(g.c,{sm:6},d.a.createElement(g.o,{condensed:!0,className:"spellRange-table"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("td",null),d.a.createElement("td",null,"Close"),d.a.createElement("td",null,"Medium"),d.a.createElement("td",null,"Long"))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",{className:"active"},"Range (ft)"),d.a.createElement("th",{className:"success"},25+5*Math.floor(e.getState([].concat(Object(l.a)(t),["level"]))/2)),d.a.createElement("th",{className:"success"},100+10*e.getState([].concat(Object(l.a)(t),["level"]))),d.a.createElement("th",{className:"success"},400+40*e.getState([].concat(Object(l.a)(t),["level"])))))),d.a.createElement(D,Object.assign({},e,{placeholder:"Specialty, domain, familiar, etc. notes",propKey:[].concat(Object(l.a)(t),["note"]),val:e.getState([].concat(Object(l.a)(t),["note"]))})))),d.a.createElement(g.n,null,d.a.createElement(g.c,{xs:12},d.a.createElement(g.o,{condensed:!0,className:"spell-list-table small"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,d.a.createElement("small",null,"Lvl")),d.a.createElement("th",null,d.a.createElement("small",null,"SR")),d.a.createElement("th",null,d.a.createElement("small",null,"DC")),d.a.createElement("th",null,d.a.createElement("small",null,"Save type")),d.a.createElement("th",null,d.a.createElement("small",null,"Prep")),d.a.createElement("th",null,d.a.createElement("small",null,"Used")),d.a.createElement("th",{className:"spell-name"},d.a.createElement("small",null,"Spell name & description & ref")),d.a.createElement("th",null,d.a.createElement("small",null,"School")),d.a.createElement("th",null,d.a.createElement("small",null,"Duration")),d.a.createElement("th",null,d.a.createElement("small",null,"Range")))),d.a.createElement("tbody",null,a)))))}var ie=Object(h.a)(Object(h.b)(["meta","debug","react_perf"]),h.c)((function(e){function t(e){console.log("clearTemp")}function a(e){console.log("clearUses")}return d.a.createElement(g.l,{fluid:!0},d.a.createElement(g.l.Header,null,d.a.createElement(g.l.Brand,null,"Version: "+e.getState(["meta","rev"],0)),d.a.createElement(g.l.Toggle,null)),d.a.createElement(g.l.Collapse,null,d.a.createElement(g.l.Text,null,"last change at: "+e.getState(["meta","prevChangeTime"],"N/A")),d.a.createElement(g.j,null,d.a.createElement(g.k,{id:"nav-clear",title:"TODO: Clear...",className:"hidden"},d.a.createElement(g.i,{onSelect:t},"Temporary bonuses"),d.a.createElement(g.i,{onSelect:function(e){t(),console.log("clearSubdual")}},"Temporary bonuses and subdual damage"),d.a.createElement(g.i,{onSelect:a},"Uses per day"),d.a.createElement(g.i,{onSelect:function(e){a(),console.log("clearDamage")}},"Uses per day and all damage"))),d.a.createElement(g.j,null,d.a.createElement(g.k,{id:"nav-add",title:"Add fields for..."},d.a.createElement(g.i,{onSelect:e.handleChange(["rage"],Object)},"Rage"),d.a.createElement(g.i,{onSelect:e.handleChange([j.find((function(t){return!e[t]}))],Object)},"Spellcaster class and spell list"),d.a.createElement(g.i,{className:"hidden"},"TODO:Spell like ability list"))),d.a.createElement(g.j,{pullRight:!0},d.a.createElement(g.k,{id:"nav-debug",pullRight:!0,title:d.a.createElement("small",null,"Debug")},d.a.createElement(g.i,{onSelect:e.handleChange(["debug"],ue)},d.a.createElement(g.b,{checked:e.getState(["debug"],!1)},"console debug")),d.a.createElement(g.i,{onSelect:e.handleChange(["react_perf"],ue)},d.a.createElement(g.b,{checked:e.getState(["react_perf"],!1)},"react_perf"))))))}));function oe(e){var t=e.getLoadLevels(),a=e.getCurrentLoad();function l(e){var l=[-1].concat(t);return a>l[3]&&e<3?"danger":l[e]<a&&a<=l[e+1]?"info":""}var n=e.getArmedLoadName();function c(e){return n===e?"success":""}function r(t){return N[t]===e.getState("armor.type")?"success":""}return d.a.createElement(g.o,{condensed:!0,className:"load-table small"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Encumberance"),d.a.createElement("td",null,"Light"),d.a.createElement("td",null,"Medium"),d.a.createElement("td",null,"Heavy"),d.a.createElement("td",null,"Lift"),d.a.createElement("td",null,"Drag"))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Current load: ",d.a.createElement("strong",null,a)),d.a.createElement("td",{className:l(0)},t[0]),d.a.createElement("td",{className:l(1)},t[1]),d.a.createElement("td",{className:l(2)},t[2]),d.a.createElement("td",{className:l(3)},2*t[2]),d.a.createElement("td",{className:l(4)},5*t[2])),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Combat load: ",d.a.createElement("strong",null,e.getArmedLoad())),d.a.createElement("td",{className:c("light")},t[0]),d.a.createElement("td",{className:c("medium")},t[1]),d.a.createElement("td",{className:c("heavy")},t[2]),d.a.createElement("td",{className:c("lift")},2*t[2]),d.a.createElement("td",{className:c("drag")},5*t[2])),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Max DEX to AC"),d.a.createElement("td",{className:c("light")},"-"),d.a.createElement("td",{className:c("medium")},d.a.createElement(L,Object.assign({},e,{propKey:["load","medium","max-dex"],placeholder:"3",className:"width-2-digit"}))),d.a.createElement("td",{className:c("heavy")},d.a.createElement(L,Object.assign({},e,{propKey:["load","heavy","max-dex"],placeholder:"1",className:"width-2-digit"}))),d.a.createElement("td",null,d.a.createElement(L,Object.assign({},e,{propKey:["load","stagger","max-dex"],placeholder:"0",className:"width-2-digit"})))),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Skill check penalty"),d.a.createElement("td",{className:c("light")},"0"),d.a.createElement("td",{className:c("medium")},d.a.createElement(L,Object.assign({},e,{propKey:["load","medium","skill-penalty"],placeholder:"3",className:"width-2-digit"}))),d.a.createElement("td",{className:c("heavy")},d.a.createElement(L,Object.assign({},e,{propKey:["load","heavy","skill-penalty"],placeholder:"6",className:"width-2-digit"}))),d.a.createElement("td",null)),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Base speed (run)"),d.a.createElement("td",{className:c("light")},d.a.createElement(L,Object.assign({},e,{propKey:["load","light","base-speed"],className:"width-5em"}))),d.a.createElement("td",{className:c("medium")},d.a.createElement(L,Object.assign({},e,{propKey:["load","medium","base-speed"],className:"width-5em"}))),d.a.createElement("td",{className:c("heavy")},d.a.createElement(L,Object.assign({},e,{propKey:["load","heavy","base-speed"],className:"width-5em"}))),d.a.createElement("td",{className:c("lift")},e.getValue(["load","lift","base-speed"]))),d.a.createElement("tr",null,d.a.createElement("th",{className:"active"},"Speed with armor (run)"),d.a.createElement("td",{className:r(0)},e.getValue("load.light.base-speed")),d.a.createElement("td",{className:r(1)},d.a.createElement(L,Object.assign({},e,{propKey:["armor","medium","base-speed"],className:"width-5em"}))),d.a.createElement("td",{className:r(2)},d.a.createElement(L,Object.assign({},e,{propKey:["armor","heavy","base-speed"],className:"width-5em"}))))))}function ue(e){return!e||void 0}function de(e){return(null===e||"object"===typeof e)&&0===Object.keys(e).length}var Ee=[];function pe(e){e&&(Ee.push(e),e.addEventListener("input",(function(e){he(e.target)}),!1),he(e))}function ge(){console.debug("autoresizeAll"),Ee.forEach(he)}function he(e){e.style.height="",e.style.height=e.scrollHeight+"px"}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),p.a.render(d.a.createElement(K,null),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.e0c5b527.chunk.js.map